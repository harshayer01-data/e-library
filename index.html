<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>E-Library by Darsh Mulgaonkar ‚Äî The Restricted Section</title>
    <link href="https://fonts.googleapis.com/css2?family=Cormorant+Garamond:ital,wght@0,300;0,400;0,600;0,700;1,300;1,400&family=Cinzel+Decorative:wght@400;700&family=Cinzel:wght@400;600&display=swap" rel="stylesheet">
    <style>
        :root {
            --gold: #C9A84C;
            --gold-light: #E8C97A;
            --gold-dark: #8B6914;
            --deep: #080608;
            --card: #130f17;
            --border: rgba(201,168,76,0.2);
            --parchment: #f5ead6;
            --text-muted: rgba(245,234,214,0.55);
            --crimson: #8B0020;
            --crimson-light: #C0002E;
            /* House colours */
            --gryffindor: #740001;
            --gryffindor-acc: #D3A625;
            --slytherin: #1A472A;
            --slytherin-acc: #AAAAAA;
            --ravenclaw: #0E1A40;
            --ravenclaw-acc: #946B2D;
            --hufflepuff: #ECB939;
            --hufflepuff-acc: #372E29;
        }

        *, *::before, *::after { box-sizing: border-box; margin: 0; padding: 0; }
        html { scroll-behavior: smooth; }

        body {
            background: var(--deep);
            color: var(--parchment);
            font-family: 'Cormorant Garamond', serif;
            overflow-x: hidden;
            cursor: none;
        }

        /* ‚îÄ‚îÄ CUSTOM WAND CURSOR ‚îÄ‚îÄ */
        #cursor {
            width: 20px; height: 20px;
            border: 2px solid var(--gold);
            border-radius: 50%;
            position: fixed;
            pointer-events: none;
            z-index: 99999;
            transform: translate(-50%, -50%);
            transition: width 0.2s, height 0.2s, border-color 0.2s;
            mix-blend-mode: screen;
        }
        #cursor.clicking { width: 36px; height: 36px; border-color: #fff; }
        #cursor-dot {
            width: 5px; height: 5px;
            background: var(--gold);
            border-radius: 50%;
            position: fixed;
            pointer-events: none;
            z-index: 99999;
            transform: translate(-50%, -50%);
        }

        /* ‚îÄ‚îÄ SPELL SPARKS ‚îÄ‚îÄ */
        .spark {
            position: fixed;
            pointer-events: none;
            z-index: 99998;
            border-radius: 50%;
            animation: spark-burst 0.7s ease-out forwards;
        }
        @keyframes spark-burst {
            0%   { opacity: 1; transform: translate(var(--tx), var(--ty)) scale(1); }
            100% { opacity: 0; transform: translate(calc(var(--tx)*4), calc(var(--ty)*4)) scale(0); }
        }

        /* ‚îÄ‚îÄ NOISE OVERLAY ‚îÄ‚îÄ */
        body::before {
            content: '';
            position: fixed; inset: 0;
            background-image: url("data:image/svg+xml,%3Csvg viewBox='0 0 256 256' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='n'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.9' numOctaves='4' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23n)' opacity='0.04'/%3E%3C/svg%3E");
            pointer-events: none; z-index: 9990; opacity: 0.4;
        }

        /* ‚îÄ‚îÄ NAV ‚îÄ‚îÄ */
        nav {
            position: fixed; top: 0; left: 0; right: 0;
            z-index: 1000; padding: 16px 5%;
            display: flex; justify-content: space-between; align-items: center;
            transition: background 0.3s;
        }
        nav.scrolled { background: rgba(8,6,8,0.95); backdrop-filter: blur(20px); border-bottom: 1px solid var(--border); }
        .nav-brand { font-family: 'Cinzel Decorative', serif; font-size: 0.85rem; color: var(--gold); letter-spacing: 2px; text-decoration: none; }
        .nav-right { display: flex; align-items: center; gap: 24px; }
        .nav-link { font-family: 'Cinzel', serif; font-size: 0.58rem; letter-spacing: 3px; color: var(--text-muted); text-decoration: none; text-transform: uppercase; transition: color 0.2s; }
        .nav-link:hover { color: var(--gold); }
        .nav-link.active { color: var(--gold); }
        .nav-cta { font-family: 'Cinzel', serif; font-size: 0.58rem; letter-spacing: 2px; color: var(--deep); background: var(--gold); text-decoration: none; text-transform: uppercase; padding: 9px 18px; transition: all 0.3s; font-weight: 700; }
        .nav-cta:hover { background: var(--gold-light); box-shadow: 0 0 20px rgba(201,168,76,0.5); }
        /* Hamburger */
        .hamburger { display:none; flex-direction:column; gap:5px; background:none; border:none; cursor:pointer; padding:6px; z-index:1100; }
        .hamburger span { display:block; width:24px; height:2px; background:var(--gold); transition:all .3s; border-radius:2px; }
        .hamburger.open span:nth-child(1) { transform:translateY(7px) rotate(45deg); }
        .hamburger.open span:nth-child(2) { opacity:0; transform:scaleX(0); }
        .hamburger.open span:nth-child(3) { transform:translateY(-7px) rotate(-45deg); }
        /* Mobile drawer */
        .nav-drawer {
            position:fixed; top:0; right:-100%; width:min(320px,85vw); height:100vh;
            background:rgba(10,7,14,0.98); backdrop-filter:blur(30px);
            border-left:1px solid var(--border);
            z-index:1050; transition:right .35s cubic-bezier(.25,.8,.25,1);
            display:flex; flex-direction:column; padding:90px 36px 50px;
            gap:0;
        }
        .nav-drawer.open { right:0; }
        .nav-drawer-link { font-family:'Cinzel',serif; font-size:.75rem; letter-spacing:4px; color:var(--text-muted); text-decoration:none; text-transform:uppercase; padding:18px 0; border-bottom:1px solid rgba(201,168,76,.08); transition:color .2s; display:flex; align-items:center; gap:12px; }
        .nav-drawer-link:hover, .nav-drawer-link.active { color:var(--gold); }
        .nav-drawer-link .nav-drawer-icon { font-size:1.1rem; width:24px; }
        .nav-drawer-cta { margin-top:36px; display:block; text-align:center; padding:16px; background:var(--gold); color:var(--deep); font-family:'Cinzel',serif; font-size:.7rem; letter-spacing:3px; text-decoration:none; text-transform:uppercase; font-weight:700; transition:all .3s; }
        .nav-drawer-cta:hover { background:var(--gold-light); }
        .nav-overlay { position:fixed; inset:0; background:rgba(0,0,0,.5); z-index:1040; display:none; }
        .nav-overlay.show { display:block; }

        /* ‚îÄ‚îÄ HERO ‚îÄ‚îÄ */
        .hero {
            min-height: 100vh; min-height: 100svh;
            display: flex; flex-direction: column; justify-content: center; align-items: center;
            text-align: center; position: relative; padding: 80px 20px 120px;
            background:
                radial-gradient(ellipse 80% 60% at 50% 0%, rgba(201,168,76,0.10) 0%, transparent 70%),
                radial-gradient(ellipse 60% 40% at 20% 80%, rgba(96,0,40,0.18) 0%, transparent 60%),
                linear-gradient(180deg, #0a0708 0%, #080608 100%);
        }
        .particles { position: absolute; inset: 0; overflow: hidden; pointer-events: none; }
        .particle { position: absolute; background: var(--gold); border-radius: 50%; opacity: 0; animation: float-up linear infinite; }
        @keyframes float-up { 0%{opacity:0;transform:translateY(0) scale(1)} 10%{opacity:.6} 90%{opacity:.3} 100%{opacity:0;transform:translateY(-100vh) scale(.5)} }

        /* Floating candles */
        .candle { position: absolute; display: flex; flex-direction: column; align-items: center; animation: candle-float ease-in-out infinite; pointer-events: none; }
        @keyframes candle-float { 0%,100%{transform:translateY(0) rotate(-1deg)} 50%{transform:translateY(-18px) rotate(1deg)} }
        .candle-body { width: 8px; border-radius: 2px; background: linear-gradient(180deg, #f5ead6, #d4a96a); }
        .candle-flame { width: 10px; height: 16px; border-radius: 50% 50% 30% 30% / 60% 60% 40% 40%; background: radial-gradient(ellipse at 50% 60%, #fff 0%, #ffe566 30%, #ffaa00 60%, #ff6600 80%, transparent 100%); margin-bottom: -2px; animation: flicker 0.3s ease-in-out infinite alternate; filter: blur(0.5px); }
        @keyframes flicker { 0%{transform:scaleX(1) scaleY(1)} 100%{transform:scaleX(0.85) scaleY(1.08)} }

        .hero-eyebrow { font-family: 'Cinzel', serif; font-size: 0.62rem; letter-spacing: 6px; color: var(--gold); opacity: .8; margin-bottom: 24px; text-transform: uppercase; }
        .hero-title { font-family: 'Cinzel Decorative', serif; font-size: clamp(2.2rem, 7vw, 5.5rem); color: var(--gold); line-height: 1.1; letter-spacing: 3px; text-shadow: 0 0 40px rgba(201,168,76,.4), 0 0 80px rgba(201,168,76,.15); margin-bottom: 10px; }
        .hero-title span { display: block; font-size: .45em; font-family: 'Cinzel', serif; letter-spacing: 8px; color: var(--gold-light); margin-bottom: 4px; }
        .hero-quote { font-style: italic; font-size: clamp(1rem,2vw,1.3rem); color: var(--text-muted); max-width: 500px; margin: 24px auto 44px; line-height: 1.7; }
        .hero-cta { display: inline-block; padding: 17px 52px; background: transparent; color: var(--gold); border: 1px solid var(--gold); font-family: 'Cinzel', serif; font-size: 0.72rem; letter-spacing: 4px; text-decoration: none; text-transform: uppercase; position: relative; transition: all .4s ease; overflow: hidden; }
        .hero-cta::before { content:''; position:absolute; inset:0; background:var(--gold); transform:translateX(-100%); transition:transform .4s ease; z-index:-1; }
        .hero-cta:hover { color: var(--deep); box-shadow: 0 0 40px rgba(201,168,76,.4); }
        .hero-cta:hover::before { transform:translateX(0); }

        .divider { display:flex; align-items:center; gap:16px; justify-content:center; margin:60px auto 0; max-width:360px; opacity:.35; }
        .divider-line { flex:1; height:1px; background:linear-gradient(to right,transparent,var(--gold)); }
        .divider-line:last-child { background:linear-gradient(to left,transparent,var(--gold)); }
        .divider-diamond { width:8px; height:8px; border:1px solid var(--gold); transform:rotate(45deg); }

        .hero-scroll { position:absolute; bottom:30px; display:flex; flex-direction:column; align-items:center; gap:8px; opacity:.4; animation:bounce 2s ease-in-out infinite; }
        @keyframes bounce { 0%,100%{transform:translateY(0)} 50%{transform:translateY(6px)} }
        .hero-scroll span { font-family:'Cinzel',serif; font-size:.52rem; letter-spacing:4px; color:var(--gold); text-transform:uppercase; }

        /* ‚îÄ‚îÄ TEASER BANNER ‚îÄ‚îÄ */
        .membership-teaser { background:linear-gradient(135deg,rgba(139,0,32,.15),rgba(201,168,76,.08),rgba(139,0,32,.15)); border-top:1px solid rgba(201,168,76,.15); border-bottom:1px solid rgba(201,168,76,.15); padding:24px 6%; display:flex; align-items:center; justify-content:center; gap:36px; flex-wrap:wrap; }
        .teaser-text { font-family:'Cormorant Garamond',serif; font-size:clamp(.95rem,2vw,1.15rem); color:var(--parchment); }
        .teaser-text em { color:var(--gold); font-style:normal; font-weight:600; }
        .teaser-btn { font-family:'Cinzel',serif; font-size:.58rem; letter-spacing:3px; color:var(--deep); background:var(--gold); text-decoration:none; text-transform:uppercase; padding:12px 26px; white-space:nowrap; transition:all .3s; box-shadow:0 4px 20px rgba(201,168,76,.3); }
        .teaser-btn:hover { background:var(--gold-light); transform:translateY(-1px); }

        /* ‚îÄ‚îÄ SECTIONS ‚îÄ‚îÄ */
        .section { padding:80px 0 40px; }
        .section-header { text-align:center; padding:0 20px; margin-bottom:56px; }
        .section-label { font-family:'Cinzel',serif; font-size:.62rem; letter-spacing:5px; color:var(--gold); opacity:.6; text-transform:uppercase; display:block; margin-bottom:10px; }
        .section-title { font-family:'Cinzel Decorative',serif; font-size:clamp(1.4rem,3vw,2rem); color:var(--parchment); }
        .section-line { width:60px; height:1px; background:linear-gradient(to right,transparent,var(--gold),transparent); margin:18px auto 0; }
        .section-sep { max-width:180px; margin:80px auto 0; text-align:center; color:var(--gold); opacity:.22; font-size:1.2rem; letter-spacing:12px; }

        /* ‚îÄ‚îÄ SHELF ‚îÄ‚îÄ */
        .shelf { display:grid; grid-template-columns:repeat(auto-fill,minmax(200px,1fr)); gap:32px; padding:0 6%; max-width:1400px; margin:0 auto; }
        .book { position:relative; cursor:none; }
        .book-poster-wrap { position:relative; border-radius:3px; overflow:hidden; aspect-ratio:2/3; background:var(--card); border:1px solid var(--border); transition:transform .45s cubic-bezier(.25,.8,.25,1), box-shadow .45s ease, border-color .3s ease; }
        .book:hover .book-poster-wrap { transform:translateY(-10px) rotateY(-8deg) scale(1.02); box-shadow:-12px 20px 50px rgba(0,0,0,.7),0 0 30px rgba(201,168,76,.18); border-color:rgba(201,168,76,.55); }
        .book-poster-wrap img { width:100%; height:100%; object-fit:cover; display:block; transition:filter .3s; }
        .book:hover .book-poster-wrap img { filter:brightness(1.06); }
        .book-poster-wrap::after { content:''; position:absolute; left:0; top:0; bottom:0; width:6px; background:linear-gradient(to right,rgba(0,0,0,.6),transparent); }
        .badge { position:absolute; top:10px; right:10px; background:rgba(96,0,30,.92); border:1px solid var(--gold); color:var(--gold); font-family:'Cinzel',serif; font-size:.5rem; letter-spacing:2px; padding:4px 10px; text-transform:uppercase; backdrop-filter:blur(4px); z-index:5; }
        .book-lock { position:absolute; inset:0; background:linear-gradient(180deg,transparent 40%,rgba(8,6,8,.92) 100%); display:flex; flex-direction:column; align-items:center; justify-content:flex-end; padding-bottom:18px; opacity:0; transition:opacity .3s; z-index:3; }
        .book:hover .book-lock, .book:focus .book-lock { opacity:1; }
        .lock-icon { font-size:1.4rem; margin-bottom:5px; }
        .lock-text { font-family:'Cinzel',serif; font-size:.5rem; letter-spacing:2px; color:var(--gold); text-transform:uppercase; }
        .lock-btn { margin-top:9px; font-family:'Cinzel',serif; font-size:.5rem; letter-spacing:2px; color:var(--deep); background:var(--gold); text-decoration:none; padding:6px 14px; text-transform:uppercase; transition:background .2s; }
        .lock-btn:hover { background:var(--gold-light); }
        /* Preview button */
        .preview-btn { margin-top:6px; font-family:'Cinzel',serif; font-size:.48rem; letter-spacing:2px; color:var(--gold); background:transparent; border:1px solid var(--gold); text-decoration:none; padding:5px 12px; text-transform:uppercase; transition:all .2s; cursor:none; }
        .preview-btn:hover { background:rgba(201,168,76,.15); }
        .book-info { margin-top:13px; padding:0 4px; }
        .book-title { font-size:1rem; color:var(--parchment); line-height:1.4; font-weight:600; }
        .book-sub { font-size:.8rem; color:var(--text-muted); font-style:italic; margin-top:3px; }
        .book-desc { font-size:.82rem; color:var(--text-muted); font-style:italic; margin-top:7px; line-height:1.55; }

        /* ‚îÄ‚îÄ SORTING HAT ‚îÄ‚îÄ */
        #sorting-hat-section { padding:100px 6%; text-align:center; position:relative; }
        #sorting-hat-section::before { content:''; position:absolute; inset:0; background:radial-gradient(ellipse 80% 60% at 50% 50%,rgba(201,168,76,.06),transparent); pointer-events:none; }
        .sh-title { font-family:'Cinzel Decorative',serif; font-size:clamp(1.8rem,4vw,2.8rem); color:var(--gold); margin-bottom:14px; text-shadow:0 0 30px rgba(201,168,76,.3); }
        .sh-sub { font-style:italic; font-size:clamp(1rem,1.8vw,1.2rem); color:var(--text-muted); max-width:500px; margin:0 auto 50px; line-height:1.7; }
        .hat-svg { font-size:7rem; display:block; margin:0 auto 30px; animation:hat-wiggle 3s ease-in-out infinite; filter:drop-shadow(0 0 20px rgba(201,168,76,.3)); }
        @keyframes hat-wiggle { 0%,100%{transform:rotate(-3deg)} 50%{transform:rotate(3deg)} }
        .quiz-box { max-width:620px; margin:0 auto; background:var(--card); border:1px solid var(--border); padding:44px 40px; position:relative; }
        .quiz-q { font-family:'Cinzel',serif; font-size:.68rem; letter-spacing:4px; color:var(--gold); text-transform:uppercase; margin-bottom:10px; opacity:.7; }
        .quiz-question { font-size:clamp(1.1rem,2vw,1.35rem); color:var(--parchment); line-height:1.6; margin-bottom:32px; font-weight:600; }
        .quiz-options { display:grid; grid-template-columns:1fr 1fr; gap:14px; }
        .quiz-opt { background:rgba(255,255,255,.04); border:1px solid var(--border); color:var(--parchment); font-family:'Cormorant Garamond',serif; font-size:1rem; padding:14px 18px; text-align:left; cursor:none; transition:all .25s; line-height:1.4; }
        .quiz-opt:hover { border-color:var(--gold); background:rgba(201,168,76,.1); color:var(--gold); transform:translateY(-2px); }
        .quiz-progress { display:flex; gap:8px; justify-content:center; margin-bottom:32px; }
        .quiz-dot { width:8px; height:8px; border-radius:50%; background:var(--border); border:1px solid var(--gold); transition:background .3s; }
        .quiz-dot.done { background:var(--gold); }

        /* House result card */
        .house-result { display:none; text-align:center; padding:10px 0; }
        .house-result.show { display:block; animation:fade-in .6s ease; }
        @keyframes fade-in { from{opacity:0;transform:translateY(20px)} to{opacity:1;transform:none} }
        .house-crest { font-size:5rem; margin-bottom:20px; display:block; animation:pulse-crest 2s ease-in-out infinite; }
        @keyframes pulse-crest { 0%,100%{transform:scale(1)} 50%{transform:scale(1.08)} }
        .house-name { font-family:'Cinzel Decorative',serif; font-size:2.4rem; margin-bottom:10px; }
        .house-motto { font-style:italic; font-size:1.1rem; color:var(--text-muted); margin-bottom:28px; }
        .house-traits { display:flex; gap:10px; justify-content:center; flex-wrap:wrap; margin-bottom:30px; }
        .house-trait { font-family:'Cinzel',serif; font-size:.55rem; letter-spacing:2px; padding:6px 16px; border:1px solid currentColor; text-transform:uppercase; }
        .retake-btn { font-family:'Cinzel',serif; font-size:.6rem; letter-spacing:3px; color:var(--text-muted); background:transparent; border:1px solid var(--border); padding:10px 24px; cursor:none; transition:all .3s; text-transform:uppercase; }
        .retake-btn:hover { border-color:var(--gold); color:var(--gold); }

        /* ‚îÄ‚îÄ HOUSE POINTS HOURGLASS ‚îÄ‚îÄ */
        #house-points-section { padding:80px 6%; }
        .hp-title { text-align:center; font-family:'Cinzel Decorative',serif; font-size:clamp(1.5rem,3vw,2rem); color:var(--gold); margin-bottom:12px; }
        .hp-sub { text-align:center; font-style:italic; color:var(--text-muted); font-size:1rem; margin-bottom:50px; }
        .hourglasses { display:flex; justify-content:center; gap:40px; flex-wrap:wrap; }
        .hourglass { text-align:center; width:120px; }
        .hg-wrap { position:relative; width:80px; height:140px; margin:0 auto 14px; }
        .hg-svg { width:100%; height:100%; }
        .hg-label { font-family:'Cinzel',serif; font-size:.6rem; letter-spacing:3px; text-transform:uppercase; margin-bottom:6px; }
        .hg-points { font-family:'Cinzel Decorative',serif; font-size:1.8rem; line-height:1; }

        /* ‚îÄ‚îÄ DAILY TRIVIA ‚îÄ‚îÄ */
        #trivia-section { padding:90px 6%; }
        .trivia-inner { max-width:680px; margin:0 auto; }
        .trivia-badge { display:inline-block; font-family:'Cinzel',serif; font-size:.55rem; letter-spacing:4px; color:var(--gold); border:1px solid var(--gold); padding:6px 18px; text-transform:uppercase; margin-bottom:24px; animation:pulse-border 2s ease-in-out infinite; }
        @keyframes pulse-border { 0%,100%{box-shadow:0 0 0 0 rgba(201,168,76,0)} 50%{box-shadow:0 0 0 5px rgba(201,168,76,.12)} }
        .trivia-q { font-family:'Cinzel Decorative',serif; font-size:clamp(1.3rem,3vw,1.8rem); color:var(--parchment); line-height:1.4; margin-bottom:30px; }
        .trivia-options { display:flex; flex-direction:column; gap:12px; margin-bottom:24px; }
        .trivia-opt { background:rgba(255,255,255,.04); border:1px solid var(--border); color:var(--parchment); font-family:'Cormorant Garamond',serif; font-size:1.05rem; padding:14px 22px; text-align:left; cursor:none; transition:all .25s; }
        .trivia-opt:hover:not(.disabled) { border-color:var(--gold); background:rgba(201,168,76,.1); transform:translateX(6px); }
        .trivia-opt.correct { border-color:#4CAF50; background:rgba(76,175,80,.15); color:#a5d6a7; }
        .trivia-opt.wrong { border-color:#ef5350; background:rgba(239,83,80,.12); color:#ef9a9a; }
        .trivia-opt.disabled { cursor:not-allowed; }
        .trivia-result { font-family:'Cinzel',serif; font-size:.68rem; letter-spacing:3px; text-transform:uppercase; padding:16px 20px; margin-bottom:20px; display:none; }
        .trivia-result.show { display:block; animation:fade-in .4s ease; }
        .trivia-result.right { background:rgba(76,175,80,.15); border:1px solid #4CAF50; color:#a5d6a7; }
        .trivia-result.wrong { background:rgba(239,83,80,.1); border:1px solid #ef5350; color:#ef9a9a; }
        .trivia-streak { display:flex; align-items:center; gap:10px; margin-bottom:30px; }
        .streak-flame { font-size:1.4rem; }
        .streak-text { font-family:'Cinzel',serif; font-size:.6rem; letter-spacing:3px; color:var(--gold); text-transform:uppercase; }
        .streak-num { font-family:'Cinzel Decorative',serif; font-size:1.5rem; color:var(--gold); }
        .trivia-next { font-family:'Cinzel',serif; font-size:.6rem; letter-spacing:3px; color:var(--deep); background:var(--gold); border:none; padding:12px 28px; cursor:none; text-transform:uppercase; display:none; transition:all .3s; }
        .trivia-next.show { display:inline-block; }
        .trivia-next:hover { background:var(--gold-light); }



        /* ‚îÄ‚îÄ BOOK PREVIEW MODAL ‚îÄ‚îÄ */
        #preview-modal {
            position: fixed; inset: 0;
            background: rgba(0,0,0,.85);
            backdrop-filter: blur(10px);
            z-index: 9000;
            display: none;
            align-items: center; justify-content: center;
            padding: 20px;
        }
        #preview-modal.open { display: flex; animation: fade-in .3s ease; }
        .modal-scroll {
            background: linear-gradient(135deg, #1a1008, #120d18);
            border: 1px solid rgba(201,168,76,.4);
            max-width: 680px; width: 100%;
            max-height: 88vh;
            overflow-y: auto;
            position: relative;
            padding: 52px 48px;
        }
        .modal-scroll::-webkit-scrollbar { width: 4px; }
        .modal-scroll::-webkit-scrollbar-track { background: transparent; }
        .modal-scroll::-webkit-scrollbar-thumb { background: var(--gold-dark); border-radius: 2px; }
        .modal-close { position:absolute; top:18px; right:22px; background:none; border:none; color:var(--gold); font-size:1.5rem; cursor:none; opacity:.7; transition:opacity .2s; }
        .modal-close:hover { opacity:1; }
        .modal-eyebrow { font-family:'Cinzel',serif; font-size:.58rem; letter-spacing:5px; color:var(--gold); opacity:.7; text-transform:uppercase; margin-bottom:10px; }
        .modal-title { font-family:'Cinzel Decorative',serif; font-size:clamp(1.5rem,4vw,2.2rem); color:var(--gold); margin-bottom:6px; line-height:1.2; }
        .modal-author { font-style:italic; color:var(--text-muted); font-size:1rem; margin-bottom:24px; }
        .modal-divider { height:1px; background:linear-gradient(to right,transparent,rgba(201,168,76,.4),transparent); margin:24px 0; }
        .modal-preview-label { font-family:'Cinzel',serif; font-size:.55rem; letter-spacing:4px; color:var(--gold); opacity:.6; text-transform:uppercase; margin-bottom:14px; }
        .modal-text { font-size:1.05rem; line-height:1.85; color:var(--parchment); opacity:.9; }
        .modal-text p { margin-bottom:1em; }
        .modal-cta { display:block; text-align:center; margin-top:36px; padding:16px 24px; background:var(--gold); color:var(--deep); font-family:'Cinzel',serif; font-size:.65rem; letter-spacing:3px; text-decoration:none; text-transform:uppercase; font-weight:700; transition:all .3s; }
        .modal-cta:hover { background:var(--gold-light); }

        /* ‚îÄ‚îÄ HOGWARTS LETTER ANIMATION ‚îÄ‚îÄ */
        #letter-overlay {
            position:fixed; inset:0;
            background:rgba(0,0,0,.95);
            z-index:99000;
            display:none;
            align-items:center; justify-content:center;
            flex-direction:column;
        }
        #letter-overlay.fly { display:flex; }
        .letter-env { font-size:5rem; animation:letter-fly 1.8s ease-in-out forwards; }
        @keyframes letter-fly {
            0%   { transform:translate(-200px,200px) rotate(-20deg) scale(.5); opacity:0; }
            40%  { transform:translate(0,0) rotate(0deg) scale(1.2); opacity:1; }
            70%  { transform:translate(0,0) rotate(0deg) scale(1); opacity:1; }
            100% { transform:translate(200px,-200px) rotate(20deg) scale(.5); opacity:0; }
        }
        .letter-text { font-family:'Cinzel Decorative',serif; font-size:1.4rem; color:var(--gold); margin-top:20px; opacity:0; animation:letter-text-show 1.8s ease-in-out forwards; text-align:center; }
        @keyframes letter-text-show { 0%,30%{opacity:0} 50%,70%{opacity:1} 100%{opacity:0} }

        /* ‚îÄ‚îÄ MEMBERSHIP SECTION ‚îÄ‚îÄ */
        .membership-teaser { background:linear-gradient(135deg,rgba(139,0,32,.15),rgba(201,168,76,.08),rgba(139,0,32,.15)); border-top:1px solid rgba(201,168,76,.15); border-bottom:1px solid rgba(201,168,76,.15); padding:24px 6%; display:flex; align-items:center; justify-content:center; gap:36px; flex-wrap:wrap; }
        .perks-strip { background:linear-gradient(180deg,transparent,rgba(201,168,76,.04) 50%,transparent); border-top:1px solid var(--border); border-bottom:1px solid var(--border); padding:60px 6%; }
        .perks-strip-title { text-align:center; font-family:'Cinzel',serif; font-size:.62rem; letter-spacing:5px; color:var(--gold); opacity:.7; text-transform:uppercase; margin-bottom:46px; }
        .perks-grid { display:grid; grid-template-columns:repeat(auto-fit,minmax(180px,1fr)); gap:28px; max-width:960px; margin:0 auto; }
        .perk-card { text-align:center; padding:30px 18px; border:1px solid var(--border); background:var(--card); transition:border-color .3s,transform .3s; }
        .perk-card:hover { border-color:rgba(201,168,76,.5); transform:translateY(-4px); }
        .perk-card-icon { font-size:1.9rem; margin-bottom:14px; display:block; }
        .perk-card-title { font-family:'Cinzel',serif; font-size:.62rem; letter-spacing:3px; color:var(--gold); text-transform:uppercase; margin-bottom:9px; }
        .perk-card-desc { font-size:.88rem; color:var(--text-muted); font-style:italic; line-height:1.6; }
        .membership-section { margin:100px 0; position:relative; overflow:hidden; }
        .membership-section::before { content:''; position:absolute; inset:0; background:radial-gradient(ellipse 100% 80% at 50% 50%,rgba(139,0,32,.22),transparent 70%); }
        .membership-section::after { content:''; position:absolute; left:0; right:0; top:0; height:1px; background:linear-gradient(to right,transparent,var(--gold),transparent); }
        .membership-inner { position:relative; max-width:1100px; margin:0 auto; padding:100px 6%; display:grid; grid-template-columns:1fr 1fr; gap:80px; align-items:center; }
        .membership-eyebrow { font-family:'Cinzel',serif; font-size:.62rem; letter-spacing:5px; color:var(--crimson-light); text-transform:uppercase; margin-bottom:14px; display:flex; align-items:center; gap:12px; }
        .membership-eyebrow::after { content:''; flex:1; height:1px; background:linear-gradient(to right,var(--crimson-light),transparent); max-width:60px; }
        .membership-heading { font-family:'Cinzel Decorative',serif; font-size:clamp(1.8rem,4vw,2.8rem); color:var(--parchment); line-height:1.2; margin-bottom:8px; }
        .membership-heading em { color:var(--gold); font-style:normal; display:block; }
        .membership-subhead { font-size:clamp(1rem,1.5vw,1.15rem); color:var(--text-muted); font-style:italic; line-height:1.7; margin:18px 0 36px; max-width:420px; }
        .perks-list { list-style:none; display:flex; flex-direction:column; gap:14px; margin-bottom:42px; }
        .perks-list li { display:flex; align-items:flex-start; gap:14px; font-size:1rem; color:var(--parchment); line-height:1.5; }
        .perk-icon { width:26px; height:26px; border:1px solid rgba(201,168,76,.4); display:flex; align-items:center; justify-content:center; font-size:.8rem; flex-shrink:0; margin-top:2px; color:var(--gold); }
        .perk-label { font-weight:600; }
        .perk-desc { font-size:.88rem; color:var(--text-muted); font-style:italic; }
        .membership-cta-group { display:flex; align-items:center; gap:22px; flex-wrap:wrap; }
        .btn-primary { display:inline-flex; align-items:center; gap:10px; padding:17px 42px; background:var(--gold); color:var(--deep); font-family:'Cinzel',serif; font-size:.68rem; letter-spacing:3px; text-decoration:none; text-transform:uppercase; font-weight:700; transition:all .35s ease; position:relative; overflow:hidden; box-shadow:0 8px 30px rgba(201,168,76,.35); }
        .btn-primary::before { content:''; position:absolute; inset:0; background:var(--gold-light); transform:translateX(-100%); transition:transform .35s ease; }
        .btn-primary:hover { box-shadow:0 12px 40px rgba(201,168,76,.55); transform:translateY(-2px); }
        .btn-primary:hover::before { transform:translateX(0); }
        .btn-primary span { position:relative; z-index:1; }
        .btn-secondary { font-family:'Cinzel',serif; font-size:.62rem; letter-spacing:3px; color:var(--text-muted); text-decoration:none; text-transform:uppercase; border-bottom:1px solid rgba(245,234,214,.2); padding-bottom:2px; transition:color .2s,border-color .2s; }
        .btn-secondary:hover { color:var(--gold); border-color:var(--gold); }
        .membership-card { background:linear-gradient(135deg,#1a0f10,#0f0a14,#1a0f10); border:1px solid rgba(201,168,76,.3); padding:46px 38px; position:relative; overflow:hidden; }
        .membership-card::before { content:''; position:absolute; top:-60px; right:-60px; width:200px; height:200px; border-radius:50%; background:radial-gradient(circle,rgba(201,168,76,.1),transparent 70%); }
        .card-inner { position:relative; z-index:1; }
        .card-badge { display:inline-block; background:var(--crimson); border:1px solid rgba(201,168,76,.4); color:var(--gold); font-family:'Cinzel',serif; font-size:.52rem; letter-spacing:3px; padding:5px 14px; text-transform:uppercase; margin-bottom:26px; animation:pulse-border 2s ease-in-out infinite; }
        .card-price { font-family:'Cinzel Decorative',serif; font-size:3.2rem; color:var(--gold); line-height:1; text-shadow:0 0 30px rgba(201,168,76,.3); }
        .card-price sup { font-size:1.1rem; vertical-align:super; }
        .card-price sub { font-size:.95rem; font-family:'Cinzel',serif; letter-spacing:2px; color:var(--text-muted); }
        .card-period { font-family:'Cinzel',serif; font-size:.58rem; letter-spacing:4px; color:var(--text-muted); text-transform:uppercase; margin:8px 0 28px; }
        .card-divider { height:1px; background:linear-gradient(to right,transparent,rgba(201,168,76,.3),transparent); margin:26px 0; }
        .card-features { list-style:none; display:flex; flex-direction:column; gap:12px; margin-bottom:32px; }
        .card-features li { display:flex; align-items:center; gap:11px; font-size:.93rem; color:var(--parchment); }
        .card-features li .check { color:var(--gold); font-size:.78rem; font-weight:bold; }
        .card-cta { display:block; text-align:center; padding:15px; background:linear-gradient(135deg,var(--gold-dark),var(--gold),var(--gold-dark)); background-size:200% 100%; color:var(--deep); font-family:'Cinzel',serif; font-size:.68rem; letter-spacing:3px; text-decoration:none; text-transform:uppercase; font-weight:700; transition:all .4s ease; animation:shimmer 3s ease-in-out infinite; }
        @keyframes shimmer { 0%,100%{background-position:0% 50%} 50%{background-position:100% 50%} }
        .card-cta:hover { box-shadow:0 8px 30px rgba(201,168,76,.5); transform:translateY(-2px); }
        .card-note { text-align:center; margin-top:12px; font-size:.75rem; color:var(--text-muted); font-style:italic; }
        .coming-soon { text-align:center; padding:80px 20px; font-style:italic; font-size:clamp(1rem,2vw,1.35rem); color:var(--text-muted); }
        .coming-soon::before,.coming-soon::after { content:'‚ú¶'; color:var(--gold); opacity:.4; margin:0 14px; }
        .final-cta { margin:40px 6% 100px; padding:80px 60px; background:linear-gradient(135deg,#130810,#0a0510,#130810); border:1px solid rgba(201,168,76,.25); text-align:center; position:relative; overflow:hidden; }
        .final-cta::before { content:''; position:absolute; inset:0; background:radial-gradient(ellipse 80% 80% at 50% 50%,rgba(201,168,76,.06),transparent); }
        .final-cta .corner-tl { position:absolute; top:16px; left:16px; border-top:1px solid var(--gold); border-left:1px solid var(--gold); width:28px; height:28px; opacity:.6; }
        .final-cta .corner-tr { position:absolute; top:16px; right:16px; border-top:1px solid var(--gold); border-right:1px solid var(--gold); width:28px; height:28px; opacity:.6; }
        .final-cta .corner-bl { position:absolute; bottom:16px; left:16px; border-bottom:1px solid var(--gold); border-left:1px solid var(--gold); width:28px; height:28px; opacity:.6; }
        .final-cta .corner-br { position:absolute; bottom:16px; right:16px; border-bottom:1px solid var(--gold); border-right:1px solid var(--gold); width:28px; height:28px; opacity:.6; }
        .final-cta-inner { position:relative; z-index:1; }
        .final-cta-heading { font-family:'Cinzel Decorative',serif; font-size:clamp(1.5rem,4vw,2.6rem); color:var(--gold); margin-bottom:14px; text-shadow:0 0 40px rgba(201,168,76,.2); }
        .final-cta-sub { font-size:clamp(1rem,2vw,1.2rem); color:var(--text-muted); font-style:italic; max-width:480px; margin:0 auto 40px; line-height:1.7; }
        .final-cta-btns { display:flex; justify-content:center; gap:18px; flex-wrap:wrap; }
        footer { border-top:1px solid var(--border); padding:60px 20px; text-align:center; }
        .footer-logo { font-family:'Cinzel Decorative',serif; font-size:1.35rem; color:var(--gold); margin-bottom:14px; }
        .footer-tagline { font-family:'Cinzel',serif; font-size:.62rem; letter-spacing:5px; color:var(--gold); opacity:.4; text-transform:uppercase; margin-bottom:28px; }
        .footer-copy { font-size:.85rem; color:var(--text-muted); }
        .reveal { opacity:0; transform:translateY(22px); transition:opacity .7s ease,transform .7s ease; }
        .reveal.visible { opacity:1; transform:translateY(0); }
        .reveal-delay-1 { transition-delay:.1s; }
        .reveal-delay-2 { transition-delay:.2s; }
        .reveal-delay-3 { transition-delay:.3s; }

        /* ‚îÄ‚îÄ MOBILE ‚îÄ‚îÄ */
        @media (hover:none) {
            body { cursor: auto; }
            #cursor, #cursor-dot { display:none; }
            .book { cursor: pointer; }
            .quiz-opt, .trivia-opt, .preview-btn, .lock-btn, .retake-btn, .trivia-next, .modal-close { cursor: pointer; }
            .book-lock { opacity:1; background:linear-gradient(180deg,transparent 45%,rgba(8,6,8,.88) 100%); }
        }
        @media (max-width:900px) {
            .membership-inner { grid-template-columns:1fr; gap:50px; padding:70px 6%; }
        }
        @media (max-width:640px) {
            nav { padding:13px 4%; }
            .nav-brand { font-size:.75rem; }
            .nav-right { gap:12px; }
            .nav-right .nav-link, .nav-right .nav-cta { display:none; }
            .hamburger { display:flex; }
            .hero { padding:80px 18px 100px; }
            .hero-title { font-size:clamp(1.9rem,10vw,2.8rem); }
            .hero-cta { padding:14px 28px; font-size:.62rem; width:100%; max-width:290px; text-align:center; }
            .membership-teaser { flex-direction:column; gap:14px; padding:22px 5%; text-align:center; }
            .teaser-btn { width:100%; text-align:center; }
            .shelf { grid-template-columns:repeat(2,1fr); gap:14px; padding:0 4%; }
            .quiz-options { grid-template-columns:1fr; }
            .modal-scroll { padding:40px 24px; }
            .hourglasses { gap:20px; }
            .hourglass { width:80px; }
            .hg-wrap { width:60px; height:110px; }
            .membership-inner { padding:60px 5%; }
            .final-cta { margin:30px 4% 70px; padding:50px 22px; }
            .final-cta-btns { flex-direction:column; align-items:center; }
            .final-cta-btns .btn-primary { width:100%; max-width:300px; justify-content:center; }
            .perks-grid { grid-template-columns:repeat(2,1fr); gap:14px; }
        }
        @media (max-width:380px) {
            .shelf { gap:10px; }
            .book-title { font-size:.85rem; }
            .book-desc { font-size:.72rem; }
        }
    </style>
</head>
<body>

<!-- CUSTOM CURSOR -->
<div id="cursor"></div>
<div id="cursor-dot"></div>


<!-- LETTER OVERLAY -->
<div id="letter-overlay">
    <div class="letter-env">‚úâÔ∏è</div>
    <div class="letter-text">Your Hogwarts membership awaits‚Ä¶</div>
</div>

<!-- BOOK PREVIEW MODAL -->
<div id="preview-modal">
    <div class="modal-scroll">
        <button class="modal-close" id="modal-close-btn">‚úï</button>
        <div class="modal-eyebrow">First Chapter ¬∑ Preview</div>
        <div class="modal-title" id="modal-book-title"></div>
        <div class="modal-author" id="modal-book-author"></div>
        <div class="modal-divider"></div>
        <div class="modal-preview-label">An Excerpt</div>
        <div class="modal-text" id="modal-book-text"></div>
        <a href="https://tinyurl.com/ElibraryDarshMembership" class="modal-cta" target="_blank">‚ú¶ Join to Read the Full Book</a>
    </div>
</div>

<!-- NAV OVERLAY -->
<div class="nav-overlay" id="nav-overlay"></div>

<!-- MOBILE DRAWER -->
<div class="nav-drawer" id="nav-drawer">
    <a class="nav-drawer-link" href="index.html"><span class="nav-drawer-icon">üìö</span>Library</a>
    <a class="nav-drawer-link" href="#collections"><span class="nav-drawer-icon">üóÇÔ∏è</span>Collections</a>
    <a class="nav-drawer-link" href="#sorting-hat-section"><span class="nav-drawer-icon">üé©</span>Sorting Hat</a>
    <a class="nav-drawer-link" href="#trivia-section"><span class="nav-drawer-icon">‚ö°</span>Trivia</a>
    <a class="nav-drawer-link active" href="games.html"><span class="nav-drawer-icon">üéÆ</span>Games & Quizzes</a>
    <a class="nav-drawer-cta" href="https://tinyurl.com/ElibraryDarshMembership" target="_blank">‚ú¶ Join Now ‚Äî ‚Çπ99/mo</a>
</div>

<!-- NAV -->
<nav id="nav">
    <a class="nav-brand" href="index.html">E¬∑Library by Darsh</a>
    <div class="nav-right">
        <a class="nav-link" href="#collections">Collections</a>
        <a class="nav-link" href="#sorting-hat-section">Sorting Hat</a>
        <a class="nav-link" href="#trivia-section">Trivia</a>
        <a class="nav-link" href="games.html">üéÆ Games</a>
        <a class="nav-cta" id="join-btn" href="https://tinyurl.com/ElibraryDarshMembership" target="_blank">Join Now</a>
    </div>
    <button class="hamburger" id="hamburger" aria-label="Menu">
        <span></span><span></span><span></span>
    </button>
</nav>

<!-- HERO -->
<header class="hero">
    <div class="particles" id="particles"></div>
    <!-- Floating candles -->
    <div class="candle" style="position:absolute;left:8%;top:20%;animation-duration:4s;animation-delay:0s"><div class="candle-flame"></div><div class="candle-body" style="height:50px"></div></div>
    <div class="candle" style="position:absolute;left:15%;top:55%;animation-duration:5s;animation-delay:1s"><div class="candle-flame"></div><div class="candle-body" style="height:40px"></div></div>
    <div class="candle" style="position:absolute;right:10%;top:25%;animation-duration:4.5s;animation-delay:.5s"><div class="candle-flame"></div><div class="candle-body" style="height:55px"></div></div>
    <div class="candle" style="position:absolute;right:18%;top:65%;animation-duration:3.8s;animation-delay:2s"><div class="candle-flame"></div><div class="candle-body" style="height:38px"></div></div>
    <div class="candle" style="position:absolute;left:50%;top:10%;animation-duration:5.2s;animation-delay:.8s"><div class="candle-flame"></div><div class="candle-body" style="height:45px"></div></div>

    <p class="hero-eyebrow">E-Library by Darsh Mulgaonkar</p>
    <h1 class="hero-title"><span>E-Library by</span>Darsh Mulgaonkar</h1>
    <p class="hero-quote">"The stories we love best do live in us forever."</p>
    <a href="#" class="hero-cta" id="hero-join-btn">Unlock the Restricted Section</a>
    <div class="divider">
        <div class="divider-line"></div>
        <div class="divider-diamond"></div><div class="divider-diamond"></div><div class="divider-diamond"></div>
        <div class="divider-line"></div>
    </div>
    <div class="hero-scroll">
        <span>Scroll</span>
        <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M12 5v14M5 12l7 7 7-7"/></svg>
    </div>
</header>

<!-- TEASER BANNER -->
<div class="membership-teaser">
    <p class="teaser-text">üîí <em>All collections</em> are members-only ‚Äî Unlock the entire library for just <em>‚Çπ99/month</em></p>
    <a href="#" class="teaser-btn join-trigger">Get Instant Access ‚Üí</a>
</div>

<main>
<div id="collections"></div>

<!-- ‚ïê‚ïê COLLECTION I ‚ïê‚ïê -->
<section class="section">
    <div class="section-header">
        <span class="section-label">Collection I</span>
        <h2 class="section-title">The Wizarding Archive</h2>
        <div class="section-line"></div>
    </div>
    <div class="shelf">
        <div class="book reveal reveal-delay-1" data-book="hp">
            <div class="book-poster-wrap">
                <span class="badge">Members</span>
                <img src="book_posters/harry_potter.jpg" alt="Harry Potter">
                <div class="book-lock">
                    <span class="lock-icon">üîí</span>
                    <span class="lock-text">Members Only</span>
                    <a href="#" class="lock-btn join-trigger">Unlock</a>
                    <button class="preview-btn" onclick="openPreview('hp')">Preview</button>
                </div>
            </div>
            <div class="book-info">
                <div class="book-title">Harry Potter</div>
                <div class="book-sub">J.K. Rowling ¬∑ Books 1‚Äì7</div>
                <div class="book-desc">Follow the boy who lived ‚Äî from his first steps into Hogwarts to the final battle against Voldemort. The complete magical saga.</div>
            </div>
        </div>
        <div class="book reveal reveal-delay-2" data-book="fb">
            <div class="book-poster-wrap">
                <span class="badge">Members</span>
                <img src="book_posters/fantastic_beasts.jpg" alt="Fantastic Beasts">
                <div class="book-lock">
                    <span class="lock-icon">üîí</span>
                    <span class="lock-text">Members Only</span>
                    <a href="#" class="lock-btn join-trigger">Unlock</a>
                    <button class="preview-btn" onclick="openPreview('fb')">Preview</button>
                </div>
            </div>
            <div class="book-info">
                <div class="book-title">Fantastic Beasts</div>
                <div class="book-sub">J.K. Rowling ¬∑ Full Library Set</div>
                <div class="book-desc">Explore the wizarding world beyond Hogwarts. Newt Scamander's adventures reveal magical creatures and hidden histories across continents.</div>
            </div>
        </div>
        <div class="book reveal reveal-delay-3" data-book="narnia">
            <div class="book-poster-wrap">
                <span class="badge">Members</span>
                <img src="book_posters/chronicles_of_narnia.jpg" alt="Narnia">
                <div class="book-lock">
                    <span class="lock-icon">üîí</span>
                    <span class="lock-text">Members Only</span>
                    <a href="#" class="lock-btn join-trigger">Unlock</a>
                    <button class="preview-btn" onclick="openPreview('narnia')">Preview</button>
                </div>
            </div>
            <div class="book-info">
                <div class="book-title">The Chronicles of Narnia</div>
                <div class="book-sub">C.S. Lewis ¬∑ Complete Edition</div>
                <div class="book-desc">Step through the wardrobe into a land of talking animals, epic quests and timeless wisdom. Seven books, one unforgettable world.</div>
            </div>
        </div>
    </div>
</section>
<div class="section-sep">¬∑ ¬∑ ¬∑</div>

<!-- ‚ïê‚ïê COLLECTION II ‚ïê‚ïê -->
<section class="section">
    <div class="section-header">
        <span class="section-label">Collection II</span>
        <h2 class="section-title">Manga & Modern Tales</h2>
        <div class="section-line"></div>
    </div>
    <div class="shelf">
        <div class="book reveal reveal-delay-1" data-book="manga">
            <div class="book-poster-wrap">
                <span class="badge">Members</span>
                <img src="book_posters/demon_slayer_spy_x_family.jpg" alt="Manga">
                <div class="book-lock">
                    <span class="lock-icon">üîí</span><span class="lock-text">Members Only</span>
                    <a href="#" class="lock-btn join-trigger">Unlock</a>
                    <button class="preview-btn" onclick="openPreview('manga')">Preview</button>
                </div>
            </div>
            <div class="book-info">
                <div class="book-title">Demon Slayer ¬∑ Spy √ó Family</div>
                <div class="book-sub">Manga Collection</div>
                <div class="book-desc">Tanjiro's quest to avenge his family plus Loid Forger's hilarious spy-family double-life. Two of the most beloved modern manga series.</div>
            </div>
        </div>
        <div class="book reveal reveal-delay-2" data-book="wimpy">
            <div class="book-poster-wrap">
                <span class="badge">Members</span>
                <img src="book_posters/diary_of_a_wimpy_kid.jpg" alt="Wimpy Kid">
                <div class="book-lock">
                    <span class="lock-icon">üîí</span><span class="lock-text">Members Only</span>
                    <a href="#" class="lock-btn join-trigger">Unlock</a>
                    <button class="preview-btn" onclick="openPreview('wimpy')">Preview</button>
                </div>
            </div>
            <div class="book-info">
                <div class="book-title">Diary of a Wimpy Kid</div>
                <div class="book-sub">Jeff Kinney ¬∑ Full Series</div>
                <div class="book-desc">Greg Heffley's laugh-out-loud journal of middle school survival. Packed with doodles, disasters and relatable moments every kid will love.</div>
            </div>
        </div>
        <div class="book reveal reveal-delay-3" data-book="geronimo">
            <div class="book-poster-wrap">
                <span class="badge">Members</span>
                <img src="book_posters/geronimo_stilton_zac_power.jpg" alt="Geronimo">
                <div class="book-lock">
                    <span class="lock-icon">üîí</span><span class="lock-text">Members Only</span>
                    <a href="#" class="lock-btn join-trigger">Unlock</a>
                    <button class="preview-btn" onclick="openPreview('geronimo')">Preview</button>
                </div>
            </div>
            <div class="book-info">
                <div class="book-title">Geronimo Stilton ¬∑ Zac Power</div>
                <div class="book-sub">Adventure Series</div>
                <div class="book-desc">Mouse reporter Geronimo stumbles into wild adventures while teen spy Zac Power tackles impossible missions. Perfect for young adventure lovers.</div>
            </div>
        </div>
    </div>
</section>
<div class="section-sep">¬∑ ¬∑ ¬∑</div>

<!-- ‚ïê‚ïê COLLECTION III ‚ïê‚ïê -->
<section class="section">
    <div class="section-header">
        <span class="section-label">Collection III</span>
        <h2 class="section-title">Heritage & Classics</h2>
        <div class="section-line"></div>
    </div>
    <div class="shelf">
        <div class="book reveal reveal-delay-1" data-book="ramayana">
            <div class="book-poster-wrap">
                <span class="badge">Members</span>
                <img src="book_posters/ramayana_mahabharata_gita.jpg" alt="Ramayana">
                <div class="book-lock">
                    <span class="lock-icon">üîí</span><span class="lock-text">Members Only</span>
                    <a href="#" class="lock-btn join-trigger">Unlock</a>
                    <button class="preview-btn" onclick="openPreview('ramayana')">Preview</button>
                </div>
            </div>
            <div class="book-info">
                <div class="book-title">Ramayana ¬∑ Mahabharata ¬∑ Gita</div>
                <div class="book-sub">Sacred Epics Collection</div>
                <div class="book-desc">India's greatest epics and the timeless wisdom of the Bhagavad Gita. Stories of dharma, courage and devotion that have guided millions for millennia.</div>
            </div>
        </div>
        <div class="book reveal reveal-delay-2" data-book="sudha">
            <div class="book-poster-wrap">
                <span class="badge">Members</span>
                <img src="book_posters/sudha_murty_tenali_akbar.jpg" alt="Sudha Murty">
                <div class="book-lock">
                    <span class="lock-icon">üîí</span><span class="lock-text">Members Only</span>
                    <a href="#" class="lock-btn join-trigger">Unlock</a>
                    <button class="preview-btn" onclick="openPreview('sudha')">Preview</button>
                </div>
            </div>
            <div class="book-info">
                <div class="book-title">Sudha Murty ¬∑ Tenali Rama</div>
                <div class="book-sub">Akbar Birbal ¬∑ Indian Tales</div>
                <div class="book-desc">Heartwarming stories, witty cleverness and legendary wordplay ‚Äî Indian storytelling at its finest across three beloved collections.</div>
            </div>
        </div>
        <div class="book reveal reveal-delay-3" data-book="matilda">
            <div class="book-poster-wrap">
                <span class="badge">Members</span>
                <img src="book_posters/matilda_tom_sawyer.jpg" alt="Matilda">
                <div class="book-lock">
                    <span class="lock-icon">üîí</span><span class="lock-text">Members Only</span>
                    <a href="#" class="lock-btn join-trigger">Unlock</a>
                    <button class="preview-btn" onclick="openPreview('matilda')">Preview</button>
                </div>
            </div>
            <div class="book-info">
                <div class="book-title">Matilda ¬∑ Tom Sawyer</div>
                <div class="book-sub">Timeless Children's Classics</div>
                <div class="book-desc">Roald Dahl's brilliant girl who uses books as her superpower, paired with Mark Twain's mischievous Mississippi adventures. Two classics every child must read.</div>
            </div>
        </div>
    </div>
</section>
<div class="section-sep">¬∑ ¬∑ ¬∑</div>

<!-- ‚ïê‚ïê COLLECTION IV ‚ïê‚ïê -->
<section class="section">
    <div class="section-header">
        <span class="section-label">Collection IV</span>
        <h2 class="section-title">The Hall of Knowledge</h2>
        <div class="section-line"></div>
    </div>
    <div class="shelf" style="max-width:700px">
        <div class="book reveal reveal-delay-1" data-book="bio">
            <div class="book-poster-wrap">
                <span class="badge">Members</span>
                <img src="book_posters/great_biographies.jpg" alt="Biographies">
                <div class="book-lock">
                    <span class="lock-icon">üîí</span><span class="lock-text">Members Only</span>
                    <a href="#" class="lock-btn join-trigger">Unlock</a>
                    <button class="preview-btn" onclick="openPreview('bio')">Preview</button>
                </div>
            </div>
            <div class="book-info">
                <div class="book-title">Great Biographies</div>
                <div class="book-sub">Inspiring Lives & Legacies</div>
                <div class="book-desc">True stories of the world's most extraordinary people ‚Äî scientists, leaders, artists and visionaries who dared to change history.</div>
            </div>
        </div>
        <div class="book reveal reveal-delay-2" data-book="sci">
            <div class="book-poster-wrap">
                <span class="badge">Members</span>
                <img src="book_posters/scientific_encyclopedias.jpg" alt="Science">
                <div class="book-lock">
                    <span class="lock-icon">üîí</span><span class="lock-text">Members Only</span>
                    <a href="#" class="lock-btn join-trigger">Unlock</a>
                    <button class="preview-btn" onclick="openPreview('sci')">Preview</button>
                </div>
            </div>
            <div class="book-info">
                <div class="book-title">Scientific Encyclopedias</div>
                <div class="book-sub">The Universe Explained</div>
                <div class="book-desc">From atoms to galaxies ‚Äî richly illustrated encyclopedias covering space, biology, physics and earth science for curious young minds.</div>
            </div>
        </div>
    </div>
</section>

<p class="coming-soon">More magical volumes arriving soon by Owl Post</p>

<!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->
<!--      SORTING HAT QUIZ         -->
<!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->
<section id="sorting-hat-section" class="reveal">
    <div class="hat-svg">üé©</div>
    <h2 class="sh-title">The Sorting Hat Awaits</h2>
    <p class="sh-sub">Answer 5 questions and discover which Hogwarts house truly belongs to you‚Ä¶</p>
    <div class="quiz-box">
        <div id="quiz-area">
            <div class="quiz-progress" id="quiz-progress"></div>
            <div class="quiz-q" id="quiz-q-num">Question 1 of 5</div>
            <div class="quiz-question" id="quiz-question"></div>
            <div class="quiz-options" id="quiz-options"></div>
        </div>
        <div class="house-result" id="house-result">
            <span class="house-crest" id="house-crest"></span>
            <div class="house-name" id="house-name"></div>
            <div class="house-motto" id="house-motto"></div>
            <div class="house-traits" id="house-traits"></div>
            <button class="retake-btn" onclick="startQuiz()">Take Again</button>
        </div>
    </div>
</section>

<div class="section-sep">¬∑ ¬∑ ¬∑</div>

<!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->
<!--      HOUSE POINTS             -->
<!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->
<section id="house-points-section" class="reveal">
    <h2 class="hp-title">House Points</h2>
    <p class="hp-sub">Earn points by answering trivia. Which house will win the House Cup?</p>
    <div class="hourglasses">
        <div class="hourglass">
            <div class="hg-label" style="color:#FFD700">Gryffindor</div>
            <div class="hg-wrap">
                <svg class="hg-svg" viewBox="0 0 80 140" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <polygon points="10,10 70,10 40,70" fill="none" stroke="#740001" stroke-width="2"/>
                    <polygon points="10,130 70,130 40,70" fill="none" stroke="#740001" stroke-width="2"/>
                    <clipPath id="clip-g"><polygon points="10,130 70,130 40,70"/></clipPath>
                    <rect id="fill-g" x="0" y="0" width="80" height="140" fill="#740001" clip-path="url(#clip-g)" opacity="0.85"/>
                    <polygon points="10,10 70,10 40,70" fill="rgba(116,0,1,0.15)"/>
                </svg>
            </div>
            <div class="hg-points" style="color:#FFD700" id="pts-gryffindor">0</div>
        </div>
        <div class="hourglass">
            <div class="hg-label" style="color:#AAAAAA">Slytherin</div>
            <div class="hg-wrap">
                <svg class="hg-svg" viewBox="0 0 80 140" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <polygon points="10,10 70,10 40,70" fill="none" stroke="#1A472A" stroke-width="2"/>
                    <polygon points="10,130 70,130 40,70" fill="none" stroke="#1A472A" stroke-width="2"/>
                    <clipPath id="clip-s"><polygon points="10,130 70,130 40,70"/></clipPath>
                    <rect id="fill-s" x="0" y="0" width="80" height="140" fill="#1A472A" clip-path="url(#clip-s)" opacity="0.85"/>
                    <polygon points="10,10 70,10 40,70" fill="rgba(26,71,42,0.15)"/>
                </svg>
            </div>
            <div class="hg-points" style="color:#AAAAAA" id="pts-slytherin">0</div>
        </div>
        <div class="hourglass">
            <div class="hg-label" style="color:#946B2D">Ravenclaw</div>
            <div class="hg-wrap">
                <svg class="hg-svg" viewBox="0 0 80 140" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <polygon points="10,10 70,10 40,70" fill="none" stroke="#0E1A40" stroke-width="2"/>
                    <polygon points="10,130 70,130 40,70" fill="none" stroke="#0E1A40" stroke-width="2"/>
                    <clipPath id="clip-r"><polygon points="10,130 70,130 40,70"/></clipPath>
                    <rect id="fill-r" x="0" y="0" width="80" height="140" fill="#222D6E" clip-path="url(#clip-r)" opacity="0.85"/>
                    <polygon points="10,10 70,10 40,70" fill="rgba(14,26,64,0.15)"/>
                </svg>
            </div>
            <div class="hg-points" style="color:#946B2D" id="pts-ravenclaw">0</div>
        </div>
        <div class="hourglass">
            <div class="hg-label" style="color:#ECB939">Hufflepuff</div>
            <div class="hg-wrap">
                <svg class="hg-svg" viewBox="0 0 80 140" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <polygon points="10,10 70,10 40,70" fill="none" stroke="#ECB939" stroke-width="2"/>
                    <polygon points="10,130 70,130 40,70" fill="none" stroke="#ECB939" stroke-width="2"/>
                    <clipPath id="clip-h"><polygon points="10,130 70,130 40,70"/></clipPath>
                    <rect id="fill-h" x="0" y="0" width="80" height="140" fill="#ECB939" clip-path="url(#clip-h)" opacity="0.85"/>
                    <polygon points="10,10 70,10 40,70" fill="rgba(236,185,57,0.15)"/>
                </svg>
            </div>
            <div class="hg-points" style="color:#ECB939" id="pts-hufflepuff">0</div>
        </div>
    </div>
</section>

<div class="section-sep">¬∑ ¬∑ ¬∑</div>

<!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->
<!--      DAILY TRIVIA             -->
<!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->
<section id="trivia-section" class="section reveal">
    <div class="section-header">
        <span class="section-label">Daily Challenge</span>
        <h2 class="section-title">Magical Trivia</h2>
        <div class="section-line"></div>
    </div>
    <div class="trivia-inner">
        <div class="trivia-streak">
            <span class="streak-flame">üî•</span>
            <span class="streak-text">Reading Streak</span>
            <span class="streak-num" id="streak-num">0</span>
            <span class="streak-text">days</span>
        </div>
        <div class="trivia-badge">‚ú¶ Question of the Day</div>
        <div class="trivia-q" id="trivia-question"></div>
        <div class="trivia-options" id="trivia-options"></div>
        <div class="trivia-result" id="trivia-result"></div>
        <button class="trivia-next" id="trivia-next-btn" onclick="nextTrivia()">Next Question ‚Üí</button>
    </div>
</section>

<!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->
<!--      MEMBERSHIP               -->
<!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->
<div id="membership"></div>
<div class="perks-strip">
    <p class="perks-strip-title">What members get</p>
    <div class="perks-grid">
        <div class="perk-card reveal reveal-delay-1"><span class="perk-card-icon">üìö</span><div class="perk-card-title">Full Library Access</div><p class="perk-card-desc">Every book, every collection ‚Äî all yours instantly</p></div>
        <div class="perk-card reveal reveal-delay-2"><span class="perk-card-icon">üßô</span><div class="perk-card-title">Curated by Wizards</div><p class="perk-card-desc">Every book hand-picked for young readers who love adventure</p></div>
        <div class="perk-card reveal reveal-delay-3"><span class="perk-card-icon">‚ú®</span><div class="perk-card-title">New Arrivals First</div><p class="perk-card-desc">Members get every new book the moment it lands</p></div>
        <div class="perk-card reveal reveal-delay-1"><span class="perk-card-icon">üåü</span><div class="perk-card-title">Growing Collection</div><p class="perk-card-desc">New magical titles added every month, exclusively for members</p></div>
    </div>
</div>
<section class="membership-section">
    <div class="membership-inner">
        <div class="membership-left reveal">
            <p class="membership-eyebrow">Restricted Section</p>
            <h2 class="membership-heading">Unlock the Full<em>Wizarding Archive</em></h2>
            <p class="membership-subhead">Over a dozen curated books across fantasy, manga, mythology and classics ‚Äî all behind one membership. Your adventure begins the moment you join.</p>
            <ul class="perks-list">
                <li><div class="perk-icon">üìñ</div><div><div class="perk-label">Harry Potter Complete Series</div><div class="perk-desc">All 7 books ‚Äî Philosopher's Stone to Deathly Hallows</div></div></li>
                <li><div class="perk-icon">‚öî</div><div><div class="perk-label">Manga Collection</div><div class="perk-desc">Demon Slayer, Spy √ó Family and more</div></div></li>
                <li><div class="perk-icon">üïâ</div><div><div class="perk-label">Sacred Indian Epics</div><div class="perk-desc">Ramayana, Mahabharata & the Bhagavad Gita</div></div></li>
                <li><div class="perk-icon">‚ú®</div><div><div class="perk-label">Growing Library</div><div class="perk-desc">New titles added regularly ‚Äî members get access automatically</div></div></li>
            </ul>
            <div class="membership-cta-group">
                <a href="#" class="btn-primary join-trigger"><span>‚ú¶ Join Now</span></a>
                <a href="#collections" class="btn-secondary">View All Collections</a>
            </div>
        </div>
        <div class="reveal reveal-delay-2">
            <div class="membership-card">
                <div class="card-inner">
                    <div class="card-badge">‚ú¶ Restricted Access</div>
                    <div class="card-price"><sup>‚Çπ</sup>99<sub>/mo</sub></div>
                    <p class="card-period">Per Month ¬∑ Members Only</p>
                    <div class="card-divider"></div>
                    <ul class="card-features">
                        <li><span class="check">‚ú¶</span> Full Harry Potter series (Books 1‚Äì7)</li>
                        <li><span class="check">‚ú¶</span> Fantastic Beasts library set</li>
                        <li><span class="check">‚ú¶</span> Demon Slayer & Spy √ó Family manga</li>
                        <li><span class="check">‚ú¶</span> Ramayana, Mahabharata & Gita</li>
                        <li><span class="check">‚ú¶</span> All future locked titles</li>
                        <li><span class="check">‚ú¶</span> Read on any device, any time</li>
                    </ul>
                    <div class="card-divider"></div>
                    <a href="#" class="card-cta join-trigger">Unlock Everything Now</a>
                    <p class="card-note">Instant access ¬∑ Secure payment</p>
                </div>
            </div>
        </div>
    </div>
</section>
<!-- üîÆ For those who seek, the magic word is: FRIENDS -->
<span style="display:none;user-select:none" aria-hidden="true" id="secret-rune">‚ú¶ Voucher: FRIENDS ‚ú¶</span>

<div class="final-cta reveal">
    <div class="corner-tl"></div><div class="corner-tr"></div><div class="corner-bl"></div><div class="corner-br"></div>
    <div class="final-cta-inner">
        <h2 class="final-cta-heading">Your Story Awaits</h2>
        <p class="final-cta-sub">Don't let the Restricted Section stay locked forever. Join today and step into worlds beyond imagination.</p>
        <div class="final-cta-btns"><a href="#" class="btn-primary join-trigger"><span>‚ú¶ Become a Member</span></a></div>
    </div>
</div>
</main>

<footer>
    <div class="footer-logo">E-Library by Darsh Mulgaonkar</div>
    <div class="footer-tagline">Mischief Managed</div>
    <p class="footer-copy">¬© 2026 E-Library by Darsh Mulgaonkar</p>
</footer>

<script>
const MEMBERSHIP_URL = 'https://tinyurl.com/ElibraryDarshMembership';

/* ‚ïê‚ïê CUSTOM CURSOR ‚ïê‚ïê */
const cursor = document.getElementById('cursor');
const cursorDot = document.getElementById('cursor-dot');
let mx=0, my=0, cx=0, cy=0;
document.addEventListener('mousemove', e => { mx=e.clientX; my=e.clientY; cursorDot.style.left=mx+'px'; cursorDot.style.top=my+'px'; });
(function animCursor(){ cx+=(mx-cx)*0.12; cy+=(my-cy)*0.12; cursor.style.left=cx+'px'; cursor.style.top=cy+'px'; requestAnimationFrame(animCursor); })();
document.addEventListener('mousedown',()=>cursor.classList.add('clicking'));
document.addEventListener('mouseup',()=>cursor.classList.remove('clicking'));

/* ‚ïê‚ïê SPELL SPARKS ON CLICK ‚ïê‚ïê */
const sparkColors = ['#FFD700','#FFF8DC','#C9A84C','#fff','#ffa500','#ff69b4','#00bfff'];
document.addEventListener('click', e => {
    for(let i=0;i<14;i++){
        const s=document.createElement('div');
        s.className='spark';
        const angle=Math.random()*360, dist=30+Math.random()*50;
        const tx=Math.cos(angle*Math.PI/180)*dist, ty=Math.sin(angle*Math.PI/180)*dist;
        const size=2+Math.random()*4;
        s.style.cssText=`left:${e.clientX}px;top:${e.clientY}px;width:${size}px;height:${size}px;background:${sparkColors[Math.floor(Math.random()*sparkColors.length)]};--tx:${tx}px;--ty:${ty}px;animation-duration:${0.4+Math.random()*0.4}s`;
        document.body.appendChild(s);
        setTimeout(()=>s.remove(),800);
    }
});

/* ‚ïê‚ïê NAV SCROLL ‚ïê‚ïê */
window.addEventListener('scroll',()=>document.getElementById('nav').classList.toggle('scrolled',scrollY>80));

/* ‚ïê‚ïê PARTICLES ‚ïê‚ïê */
const pc=document.getElementById('particles');
for(let i=0;i<28;i++){
    const p=document.createElement('div'); p.className='particle';
    p.style.cssText=`left:${Math.random()*100}%;bottom:-10px;animation-duration:${8+Math.random()*16}s;animation-delay:${Math.random()*20}s;width:${1+Math.random()*2}px;height:${1+Math.random()*2}px`;
    pc.appendChild(p);
}

/* ‚ïê‚ïê SCROLL REVEAL ‚ïê‚ïê */
const revObs=new IntersectionObserver(entries=>entries.forEach(e=>{if(e.isIntersecting)e.target.classList.add('visible');}),{threshold:.08});
document.querySelectorAll('.reveal').forEach(el=>revObs.observe(el));

/* ‚ïê‚ïê HOGWARTS LETTER + JOIN ‚ïê‚ïê */
function triggerLetterAndJoin(e){
    if(e) e.preventDefault();
    const overlay=document.getElementById('letter-overlay');
    overlay.classList.add('fly');
    setTimeout(()=>{ overlay.classList.remove('fly'); window.open(MEMBERSHIP_URL,'_blank'); },1900);
}
document.getElementById('hero-join-btn').addEventListener('click',triggerLetterAndJoin);
document.querySelectorAll('.join-trigger').forEach(el=>el.addEventListener('click',triggerLetterAndJoin));
document.getElementById('join-btn').addEventListener('click',triggerLetterAndJoin);

/* ‚ïê‚ïê BOOK PREVIEW DATA ‚ïê‚ïê */
const previewData = {
    hp: { title:'Harry Potter and the Philosopher\'s Stone', author:'J.K. Rowling', text:`<p>Mr and Mrs Dursley, of number four, Privet Drive, were proud to say that they were perfectly normal, thank you very much. They were the last people you'd expect to be involved in anything strange or mysterious, because they just didn't hold with such nonsense.</p><p>Mr Dursley was the director of a firm called Grunnings, which made drills. He was a big, beefy man with hardly any neck, although he did have a very large moustache. Mrs Dursley was thin and blonde and had nearly twice the usual amount of neck, which came in very useful as she spent so much of her time craning over garden fences, spying on the neighbours.</p><p>The Dursleys had a small son called Dudley and in their opinion there was no finer boy anywhere...</p>` },
    fb: { title:'Fantastic Beasts and Where to Find Them', author:'J.K. Rowling', text:`<p>Newt Scamander has become a bestselling author in both the Muggle and wizarding worlds. His magnum opus, Fantastic Beasts and Where to Find Them, has been an approved textbook at Hogwarts School of Witchcraft and Wizardry since its first publication and can be found in most wizarding households.</p><p>But who is the man behind the beasts? Newt Scamander ‚Äî magizoologist, adventurer, and holder of the Order of Merlin (Second Class) ‚Äî has spent decades cataloguing the world's magical creatures...</p>` },
    narnia: { title:'The Lion, the Witch and the Wardrobe', author:'C.S. Lewis', text:`<p>Once there were four children whose names were Peter, Susan, Edmund and Lucy. This story is about something that happened to them when they were sent away from London during the war because of the air-raids.</p><p>They were sent to the house of an old Professor who lived in the heart of the country, ten miles from the nearest railway station and two miles from the nearest post office. He had no wife and he lived in a very large house with a housekeeper called Mrs Macready and three servants...</p><p>Lucy looked into a large, dark place. It was quite empty except for one big wardrobe; the sort that has a looking-glass in the door. There was nothing else in the room at all except a dead bluebottle on the windowsill...</p>` },
    manga: { title:'Demon Slayer: Kimetsu no Yaiba', author:'Koyoharu Gotouge', text:`<p>It is the Taisho Period in Japan. Tanjiro Kamado, a kind-hearted boy who sells charcoal for a living, finds his family slaughtered by a demon. To make matters worse, his younger sister Nezuko, the sole survivor, has been transformed into a demon herself.</p><p>Though devastated, Tanjiro resolves to become a "demon slayer" so that he can turn his sister back into a human, and kill the demon that massacred his family. A fascinating tale of brotherhood unfolds...</p>` },
    wimpy: { title:'Diary of a Wimpy Kid', author:'Jeff Kinney', text:`<p>Let me just say for the record that I think middle school is the dumbest idea ever invented. You got kids like me who haven't hit their growth spurt yet mixed in with these gorillas who need to shave twice a day.</p><p>And then they wonder why bullying is such a big problem. I'll tell you why ‚Äî it's because the teachers can't tell the difference between a seventh grader and a full-grown adult without their glasses on. If it were up to me, I'd just skip middle school altogether and go straight from elementary to high school...</p>` },
    geronimo: { title:'Geronimo Stilton: Lost Treasure of the Emerald Eye', author:'Geronimo Stilton', text:`<p>My name is Stilton, Geronimo Stilton. I am the publisher of The Rodent's Gazette, the most popular newspaper on Mouse Island. Every morning I wake up to the smell of freshly printed paper and the sound of squeaking typewriters.</p><p>That particular morning started like any other ‚Äî until my sister Thea burst into my office with a mysterious map she had found at a flea market. She was absolutely convinced it led to a hidden treasure. I, on the other hand, was absolutely certain it would lead to trouble...</p>` },
    ramayana: { title:'The Ramayana', author:'Valmiki', text:`<p>Long ago, in the kingdom of Ayodhya, there lived a king named Dasharatha who had three queens and four sons. The eldest, Rama, was the embodiment of virtue and dharma ‚Äî beloved by all who knew him, gentle in speech, mighty in battle, and devoted to truth above all else.</p><p>The sage Vishwamitra came to Dasharatha one day, seeking Rama's help in protecting his sacred fire-sacrifice from the demons Maricha and Subahu. Though Dasharatha was reluctant to part with his beloved son, Rama stepped forward willingly, knowing that to serve a sage was the highest duty...</p>` },
    sudha: { title:'Grandma\'s Bag of Stories', author:'Sudha Murty', text:`<p>Every summer, seven-year-old Raghu and his cousins would make the long journey to their grandmother's house in the village. Ammamma ‚Äî as they called her ‚Äî was a small woman with silver hair and the warmest smile in the world.</p><p>She smelled of jasmine and sandalwood, and she had a bottomless bag of stories. Every evening, as the sun dipped behind the mango trees and fireflies began to blink in the garden, the children would gather around her on the cool stone steps, and she would begin...</p>` },
    matilda: { title:'Matilda', author:'Roald Dahl', text:`<p>It's a funny thing about mothers and fathers. Even if their own child is the most disgusting little blister you could ever imagine, they still think that he or she is wonderful.</p><p>Mr and Mrs Wormwood had two children. The son Michael was a perfectly normal boy. But the daughter, Matilda, was something special. By the age of three she had taught herself to read by studying newspapers and magazines that lay around the house. By four she had read every children's book in the local library and was asking the librarian, Mrs Phelps, for something more challenging...</p>` },
    bio: { title:'Great Biographies', author:'Various Authors', text:`<p>What makes an extraordinary life? Is it the audacity to dream impossibly large? The stubbornness to rise after every fall? Or simply the courage to stay true to one's convictions when the whole world disagrees?</p><p>In these pages, we meet ten remarkable individuals who each answered that question differently ‚Äî yet all left an indelible mark on the world. From Marie Curie's glowing laboratory in Paris to A.P.J. Abdul Kalam's childhood in Rameswaram, these are the lives that dare us to dream bigger...</p>` },
    sci: { title:'Scientific Encyclopedias', author:'DK Publishing', text:`<p>You are made of stars. The iron in your blood was forged in the heart of a dying sun billions of years ago. The calcium in your bones, the oxygen in each breath ‚Äî all of it created in stellar furnaces long before our solar system existed.</p><p>Science is the greatest story ever told, and it is still being written. From the impossibly small ‚Äî quarks and electrons dancing inside every atom ‚Äî to the impossibly large ‚Äî superclusters of galaxies stretching across the observable universe ‚Äî the cosmos is more strange and wonderful than any fantasy...</p>` }
};

function openPreview(bookId){
    const data=previewData[bookId];
    if(!data) return;
    document.getElementById('modal-book-title').textContent=data.title;
    document.getElementById('modal-book-author').textContent=data.author;
    document.getElementById('modal-book-text').innerHTML=data.text;
    document.getElementById('preview-modal').classList.add('open');
    document.body.style.overflow='hidden';
}
document.getElementById('modal-close-btn').onclick=()=>{
    document.getElementById('preview-modal').classList.remove('open');
    document.body.style.overflow='';
};
document.getElementById('preview-modal').addEventListener('click',e=>{
    if(e.target===document.getElementById('preview-modal')){ document.getElementById('preview-modal').classList.remove('open'); document.body.style.overflow=''; }
});

/* ‚ïê‚ïê SORTING HAT QUIZ ‚ïê‚ïê */
const quizData = [
    { q:"A fellow student is being bullied. What do you do?", opts:[{t:"Stand up immediately ‚Äî even if it means getting in trouble",h:"gryffindor"},{t:"Find a clever way to distract the bully without confrontation",h:"ravenclaw"},{t:"Quietly comfort the victim and tell a trusted adult",h:"hufflepuff"},{t:"Use the situation strategically to gain the bully's respect",h:"slytherin"}] },
    { q:"Your greatest desire is‚Ä¶", opts:[{t:"To be remembered as a hero who changed the world",h:"gryffindor"},{t:"To unlock the deepest secrets of magic and knowledge",h:"ravenclaw"},{t:"To have a loyal circle of friends and a peaceful life",h:"hufflepuff"},{t:"To achieve greatness and leave a powerful legacy",h:"slytherin"}] },
    { q:"You find a bag of gold on the street. You‚Ä¶", opts:[{t:"Turn it in ‚Äî what if someone desperately needs it?",h:"hufflepuff"},{t:"Try to use logic to find the rightful owner",h:"ravenclaw"},{t:"Keep it! Fortune favours the bold.",h:"gryffindor"},{t:"Hold onto it until you can use it for something important",h:"slytherin"}] },
    { q:"In class, you're most likely to be‚Ä¶", opts:[{t:"The one who volunteers to answer every question",h:"gryffindor"},{t:"The one who asks questions the teacher can't answer",h:"ravenclaw"},{t:"The one helping classmates who are confused",h:"hufflepuff"},{t:"The one who has already read three chapters ahead",h:"slytherin"}] },
    { q:"Your ideal Saturday at Hogwarts would be‚Ä¶", opts:[{t:"Playing Quidditch or going on an adventure",h:"gryffindor"},{t:"Spending the day in the library with a fascinating book",h:"ravenclaw"},{t:"Exploring Hogsmeade with your best friends",h:"hufflepuff"},{t:"Practising advanced magic spells alone in the dungeons",h:"slytherin"}] },
];
const houseData = {
    gryffindor:{ name:"Gryffindor", crest:"ü¶Å", motto:'"Where dwell the brave at heart"', traits:["Brave","Bold","Chivalrous","Daring"], colour:"#D3A625", bg:"#740001" },
    slytherin:{ name:"Slytherin", crest:"üêç", motto:'"Those cunning folk use any means to achieve their ends"', traits:["Ambitious","Cunning","Resourceful","Leader"], colour:"#AAAAAA", bg:"#1A472A" },
    ravenclaw:{ name:"Ravenclaw", crest:"ü¶Ö", motto:'"Wit beyond measure is man\'s greatest treasure"', traits:["Wise","Creative","Witty","Curious"], colour:"#946B2D", bg:"#0E1A40" },
    hufflepuff:{ name:"Hufflepuff", crest:"ü¶°", motto:'"Those patient Hufflepuffs are true and unafraid of toil"', traits:["Kind","Patient","Loyal","Fair"], colour:"#ECB939", bg:"#372E29" },
};
let quizScores={gryffindor:0,slytherin:0,ravenclaw:0,hufflepuff:0}, quizIdx=0;
function startQuiz(){
    quizScores={gryffindor:0,slytherin:0,ravenclaw:0,hufflepuff:0}; quizIdx=0;
    document.getElementById('house-result').classList.remove('show');
    document.getElementById('quiz-area').style.display='';
    showQuizQuestion();
}
function showQuizQuestion(){
    const q=quizData[quizIdx];
    // shuffle options
    const opts=[...q.opts].sort(()=>Math.random()-.5);
    const prog=document.getElementById('quiz-progress');
    prog.innerHTML=quizData.map((_,i)=>`<div class="quiz-dot${i<quizIdx?' done':''}"></div>`).join('');
    document.getElementById('quiz-q-num').textContent=`Question ${quizIdx+1} of ${quizData.length}`;
    document.getElementById('quiz-question').textContent=q.q;
    const optEl=document.getElementById('quiz-options');
    optEl.innerHTML=opts.map((o,i)=>`<button class="quiz-opt" onclick="quizAnswer('${o.h}')">${o.t}</button>`).join('');
}
function quizAnswer(house){
    quizScores[house]++;
    quizIdx++;
    if(quizIdx>=quizData.length){ showHouseResult(); }
    else { showQuizQuestion(); }
}
function showHouseResult(){
    const winner=Object.entries(quizScores).sort((a,b)=>b[1]-a[1])[0][0];
    const h=houseData[winner];
    document.getElementById('quiz-area').style.display='none';
    const res=document.getElementById('house-result');
    document.getElementById('house-crest').textContent=h.crest;
    document.getElementById('house-name').textContent=h.name;
    document.getElementById('house-name').style.color=h.colour;
    document.getElementById('house-motto').textContent=h.motto;
    document.getElementById('house-traits').innerHTML=h.traits.map(t=>`<span class="house-trait" style="color:${h.colour};border-color:${h.colour}">${t}</span>`).join('');
    res.classList.add('show');
    // add 50 pts to winning house
    addHousePoints(winner,50);
}
startQuiz();

/* ‚ïê‚ïê HOUSE POINTS ‚ïê‚ïê */
const hpts={gryffindor:0,slytherin:0,ravenclaw:0,hufflepuff:0};
function addHousePoints(house,pts){
    hpts[house]+=pts;
    updateHourglass();
}
function updateHourglass(){
    const houses=['gryffindor','slytherin','ravenclaw','hufflepuff'];
    const max=Math.max(...Object.values(hpts),1);
    houses.forEach(h=>{
        document.getElementById('pts-'+h).textContent=hpts[h];
        const fill=document.getElementById('fill-'+h[0]);
        if(fill){
            const pct=hpts[h]/max;
            // fill rises from bottom of lower triangle: y goes from 130 down to 70
            const y=130-(pct*60);
            fill.setAttribute('y', y.toFixed(1));
            fill.setAttribute('height', (140-y).toFixed(1));
        }
    });
}

/* ‚ïê‚ïê DAILY TRIVIA ‚ïê‚ïê */
const triviaBank = [
    {q:"What is the name of Harry Potter's owl?",opts:["Hedwig","Pigwidgeon","Errol","Fawkes"],correct:0,house:"gryffindor"},
    {q:"Which potion grants the drinker extraordinary luck?",opts:["Polyjuice Potion","Veritaserum","Felix Felicis","Amortentia"],correct:2,house:"ravenclaw"},
    {q:"What does Hermione's Patronus take the form of?",opts:["A cat","An otter","A doe","A hare"],correct:1,house:"gryffindor"},
    {q:"In which vault is the Philosopher's Stone kept at Gringotts?",opts:["Vault 713","Vault 687","Vault 999","Vault 317"],correct:0,house:"ravenclaw"},
    {q:"What is the core of Harry's wand?",opts:["Dragon heartstring","Unicorn hair","Phoenix feather","Veela hair"],correct:2,house:"gryffindor"},
    {q:"Which creature guards the Sorcerer's Stone alongside other traps?",opts:["A basilisk","A three-headed dog","A dragon","A sphinx"],correct:1,house:"hufflepuff"},
    {q:"What is the incantation to open the Marauder's Map?",opts:["I solemnly swear","Lumos","Mischief Managed","Accio Map"],correct:0,house:"gryffindor"},
    {q:"Who is the Half-Blood Prince?",opts:["Tom Riddle","Sirius Black","Severus Snape","Albus Dumbledore"],correct:2,house:"slytherin"},
    {q:"What shape is the scar on Harry Potter's forehead?",opts:["Star","Lightning bolt","Diamond","Circle"],correct:1,house:"gryffindor"},
    {q:"What magical creature is Dobby?",opts:["House-elf","Goblin","Boggart","Brownie"],correct:0,house:"hufflepuff"},
];
let triviaIdx=0, triviaAnswered=false;
// Load streak
let streak=parseInt(localStorage.getItem('hp_streak')||'0');
const lastDate=localStorage.getItem('hp_last_date')||'';
const today=new Date().toDateString();
if(lastDate!==today && lastDate!==''){
    const diff=(new Date(today)-new Date(lastDate))/(1000*60*60*24);
    if(diff>1){ streak=0; localStorage.setItem('hp_streak','0'); }
}
document.getElementById('streak-num').textContent=streak;
function loadTrivia(){
    triviaAnswered=false;
    const t=triviaBank[triviaIdx%triviaBank.length];
    document.getElementById('trivia-question').textContent=t.q;
    const optsEl=document.getElementById('trivia-options');
    optsEl.innerHTML=t.opts.map((o,i)=>`<button class="trivia-opt" onclick="answerTrivia(${i})">${o}</button>`).join('');
    document.getElementById('trivia-result').classList.remove('show');
    document.getElementById('trivia-next-btn').classList.remove('show');
}
function answerTrivia(idx){
    if(triviaAnswered) return;
    triviaAnswered=true;
    const t=triviaBank[triviaIdx%triviaBank.length];
    const opts=document.querySelectorAll('.trivia-opt');
    opts.forEach((b,i)=>{
        b.classList.add('disabled');
        if(i===t.correct) b.classList.add('correct');
        else if(i===idx) b.classList.add('wrong');
    });
    const res=document.getElementById('trivia-result');
    if(idx===t.correct){
        res.className='trivia-result right show';
        res.textContent='‚ö° Correct! 10 points to '+t.house.charAt(0).toUpperCase()+t.house.slice(1)+'!';
        addHousePoints(t.house,10);
        // update streak
        if(localStorage.getItem('hp_last_date')!==today){
            streak++;
            localStorage.setItem('hp_streak',streak);
            localStorage.setItem('hp_last_date',today);
            document.getElementById('streak-num').textContent=streak;
        }
    } else {
        res.className='trivia-result wrong show';
        res.textContent='‚úó Not quite. The answer was: '+t.opts[t.correct];
    }
    document.getElementById('trivia-next-btn').classList.add('show');
}
function nextTrivia(){
    triviaIdx++;
    loadTrivia();
}
/* ‚ïê‚ïê EASTER EGG ‚Äî SECRET VOUCHER ‚ïê‚ïê */
// Hidden in the source. Those curious enough to look will find it.
// The magic word whispered by the founders: FRIENDS
let _eq='',_et=null;
document.addEventListener('keydown',e=>{
    _eq=((_eq+e.key).slice(-7));
    clearTimeout(_et);_et=setTimeout(()=>_eq='',1500);
    if(_eq.toUpperCase()==='FRIENDS'){
        const t=document.createElement('div');
        t.style.cssText='position:fixed;bottom:30px;left:50%;transform:translateX(-50%) translateY(100px);background:linear-gradient(135deg,#1a0f10,#0f0a14);border:1px solid var(--gold);color:var(--parchment);font-family:Cinzel,serif;font-size:.65rem;letter-spacing:3px;padding:20px 40px;text-align:center;z-index:99500;text-transform:uppercase;transition:transform .5s cubic-bezier(.34,1.56,.64,1)';
        t.innerHTML='<div style="color:var(--gold);font-family:Cinzel Decorative,serif;font-size:.9rem;margin-bottom:8px">üîÆ Secret Discovered!</div>Your voucher code: <strong style="color:var(--gold)">FRIENDS</strong>';
        document.body.appendChild(t);
        setTimeout(()=>t.style.transform='translateX(-50%) translateY(0)',50);
        setTimeout(()=>{t.style.transform='translateX(-50%) translateY(100px)';setTimeout(()=>t.remove(),600);},5000);
        _eq='';
    }
});

/* ‚ïê‚ïê FINAL TRIVIA LOAD ‚ïê‚ïê */
const drawer=document.getElementById('nav-drawer');
const navOvl=document.getElementById('nav-overlay');
function openDrawer(){ ham.classList.add('open'); drawer.classList.add('open'); navOvl.classList.add('show'); document.body.style.overflow='hidden'; }
function closeDrawer(){ ham.classList.remove('open'); drawer.classList.remove('open'); navOvl.classList.remove('show'); document.body.style.overflow=''; }
ham.addEventListener('click',()=>drawer.classList.contains('open')?closeDrawer():openDrawer());
navOvl.addEventListener('click',closeDrawer);
document.querySelectorAll('.nav-drawer-link').forEach(l=>l.addEventListener('click',closeDrawer));

loadTrivia();
</script>
</body>
</html>
