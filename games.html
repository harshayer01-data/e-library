<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>E-Library ‚Äî Games & Quizzes</title>
    <link href="https://fonts.googleapis.com/css2?family=Cormorant+Garamond:ital,wght@0,300;0,400;0,600;0,700;1,300;1,400&family=Cinzel+Decorative:wght@400;700&family=Cinzel:wght@400;600&display=swap" rel="stylesheet">
    <style>
        :root {
            --gold:#C9A84C;--gold-light:#E8C97A;--gold-dark:#8B6914;
            --deep:#080608;--card:#130f17;--surface:#0e0b10;
            --border:rgba(201,168,76,0.2);--parchment:#f5ead6;
            --text-muted:rgba(245,234,214,0.55);
        }
        *,*::before,*::after{box-sizing:border-box;margin:0;padding:0;}
        html{scroll-behavior:smooth;}
        body{background:var(--deep);color:var(--parchment);font-family:'Cormorant Garamond',serif;overflow-x:hidden;cursor:none;}
        body::before{content:'';position:fixed;inset:0;background-image:url("data:image/svg+xml,%3Csvg viewBox='0 0 256 256' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='n'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.9' numOctaves='4' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23n)' opacity='0.04'/%3E%3C/svg%3E");pointer-events:none;z-index:9990;opacity:.4;}

        #cursor{width:20px;height:20px;border:2px solid var(--gold);border-radius:50%;position:fixed;pointer-events:none;z-index:99999;transform:translate(-50%,-50%);transition:width .2s,height .2s,border-color .2s;mix-blend-mode:screen;}
        #cursor.clicking{width:36px;height:36px;border-color:#fff;}
        #cursor-dot{width:5px;height:5px;background:var(--gold);border-radius:50%;position:fixed;pointer-events:none;z-index:99999;transform:translate(-50%,-50%);}
        .spark{position:fixed;pointer-events:none;z-index:99998;border-radius:50%;animation:spark-burst .7s ease-out forwards;}
        @keyframes spark-burst{0%{opacity:1;transform:translate(var(--tx),var(--ty)) scale(1)}100%{opacity:0;transform:translate(calc(var(--tx)*4),calc(var(--ty)*4)) scale(0)}}

        nav{position:fixed;top:0;left:0;right:0;z-index:1000;padding:16px 5%;display:flex;justify-content:space-between;align-items:center;transition:background .3s;}
        nav.scrolled{background:rgba(8,6,8,.95);backdrop-filter:blur(20px);border-bottom:1px solid var(--border);}
        .nav-brand{font-family:'Cinzel Decorative',serif;font-size:.85rem;color:var(--gold);letter-spacing:2px;text-decoration:none;}
        .nav-right{display:flex;align-items:center;gap:24px;}
        .nav-link{font-family:'Cinzel',serif;font-size:.58rem;letter-spacing:3px;color:var(--text-muted);text-decoration:none;text-transform:uppercase;transition:color .2s;}
        .nav-link:hover,.nav-link.active{color:var(--gold);}
        .nav-cta{font-family:'Cinzel',serif;font-size:.58rem;letter-spacing:2px;color:var(--deep);background:var(--gold);text-decoration:none;text-transform:uppercase;padding:9px 18px;transition:all .3s;font-weight:700;}
        .nav-cta:hover{background:var(--gold-light);}
        .hamburger{display:none;flex-direction:column;gap:5px;background:none;border:none;cursor:pointer;padding:6px;z-index:1100;}
        .hamburger span{display:block;width:24px;height:2px;background:var(--gold);transition:all .3s;border-radius:2px;}
        .hamburger.open span:nth-child(1){transform:translateY(7px) rotate(45deg);}
        .hamburger.open span:nth-child(2){opacity:0;transform:scaleX(0);}
        .hamburger.open span:nth-child(3){transform:translateY(-7px) rotate(-45deg);}
        .nav-drawer{position:fixed;top:0;right:-100%;width:min(320px,85vw);height:100vh;background:rgba(10,7,14,.98);backdrop-filter:blur(30px);border-left:1px solid var(--border);z-index:1050;transition:right .35s cubic-bezier(.25,.8,.25,1);display:flex;flex-direction:column;padding:90px 36px 50px;}
        .nav-drawer.open{right:0;}
        .nav-drawer-link{font-family:'Cinzel',serif;font-size:.75rem;letter-spacing:4px;color:var(--text-muted);text-decoration:none;text-transform:uppercase;padding:18px 0;border-bottom:1px solid rgba(201,168,76,.08);transition:color .2s;display:flex;align-items:center;gap:12px;}
        .nav-drawer-link:hover,.nav-drawer-link.active{color:var(--gold);}
        .nav-drawer-icon{font-size:1.1rem;width:24px;}
        .nav-drawer-cta{margin-top:36px;display:block;text-align:center;padding:16px;background:var(--gold);color:var(--deep);font-family:'Cinzel',serif;font-size:.7rem;letter-spacing:3px;text-decoration:none;text-transform:uppercase;font-weight:700;}
        .nav-overlay{position:fixed;inset:0;background:rgba(0,0,0,.5);z-index:1040;display:none;}
        .nav-overlay.show{display:block;}

        .page-hero{min-height:40vh;display:flex;flex-direction:column;align-items:center;justify-content:center;text-align:center;padding:120px 20px 60px;position:relative;background:radial-gradient(ellipse 80% 60% at 50% 0%,rgba(201,168,76,.12) 0%,transparent 70%);}
        .page-hero::after{content:'';position:absolute;bottom:0;left:0;right:0;height:1px;background:linear-gradient(to right,transparent,var(--gold),transparent);opacity:.3;}
        .page-eyebrow{font-family:'Cinzel',serif;font-size:.6rem;letter-spacing:6px;color:var(--gold);opacity:.7;margin-bottom:18px;text-transform:uppercase;}
        .page-title{font-family:'Cinzel Decorative',serif;font-size:clamp(2rem,6vw,3.8rem);color:var(--gold);text-shadow:0 0 40px rgba(201,168,76,.3);line-height:1.1;margin-bottom:14px;}
        .page-sub{font-style:italic;font-size:clamp(1rem,2vw,1.2rem);color:var(--text-muted);max-width:500px;line-height:1.7;}

        .tabs-bar{display:flex;justify-content:center;gap:0;padding:40px 20px 0;flex-wrap:wrap;}
        .tab-btn{font-family:'Cinzel',serif;font-size:.6rem;letter-spacing:3px;color:var(--text-muted);background:none;border:1px solid transparent;border-bottom:1px solid var(--border);padding:14px 28px;cursor:pointer;text-transform:uppercase;transition:all .25s;}
        .tab-btn.active{color:var(--gold);border:1px solid var(--border);border-bottom:1px solid var(--deep);background:var(--card);margin-bottom:-1px;}
        .tab-btn:hover:not(.active){color:var(--parchment);}
        .tab-btn .tab-icon{margin-right:8px;}
        .tabs-content{border-top:1px solid var(--border);}
        .tab-panel{display:none;}
        .tab-panel.active{display:block;}

        .game-wrap{max-width:760px;margin:0 auto;padding:60px 24px 80px;}
        .game-title{font-family:'Cinzel Decorative',serif;font-size:clamp(1.4rem,3vw,2rem);color:var(--gold);margin-bottom:10px;text-align:center;}
        .game-desc{font-style:italic;color:var(--text-muted);text-align:center;font-size:1rem;margin-bottom:40px;line-height:1.6;max-width:500px;margin-left:auto;margin-right:auto;}
        .gold-btn{font-family:'Cinzel',serif;font-size:.65rem;letter-spacing:3px;color:var(--deep);background:var(--gold);border:none;padding:14px 32px;cursor:pointer;text-transform:uppercase;font-weight:700;transition:all .3s;}
        .gold-btn:hover{background:var(--gold-light);box-shadow:0 0 20px rgba(201,168,76,.4);}
        .ghost-btn{font-family:'Cinzel',serif;font-size:.6rem;letter-spacing:3px;color:var(--text-muted);background:none;border:1px solid var(--border);padding:12px 26px;cursor:pointer;text-transform:uppercase;transition:all .3s;}
        .ghost-btn:hover{border-color:var(--gold);color:var(--gold);}
        .score-board{display:flex;justify-content:center;gap:40px;margin-bottom:36px;flex-wrap:wrap;}
        .score-item{text-align:center;}
        .score-val{font-family:'Cinzel Decorative',serif;font-size:2rem;color:var(--gold);line-height:1;}
        .score-lbl{font-family:'Cinzel',serif;font-size:.52rem;letter-spacing:3px;color:var(--text-muted);text-transform:uppercase;margin-top:4px;}
        @keyframes fade-in{from{opacity:0;transform:translateY(10px)}to{opacity:1;transform:none}}
        .result-card{text-align:center;padding:50px 30px;background:var(--card);border:1px solid var(--border);position:relative;overflow:hidden;}
        .result-card::before{content:'';position:absolute;inset:0;background:radial-gradient(ellipse 80% 80% at 50% 50%,rgba(201,168,76,.07),transparent);pointer-events:none;}
        .result-emoji{font-size:4rem;display:block;margin-bottom:18px;}
        .result-title{font-family:'Cinzel Decorative',serif;font-size:clamp(1.4rem,4vw,2rem);color:var(--gold);margin-bottom:10px;}
        .result-sub{font-style:italic;color:var(--text-muted);font-size:1rem;margin-bottom:30px;line-height:1.6;}
        .result-final-score{font-family:'Cinzel Decorative',serif;font-size:3rem;color:var(--gold);display:block;margin-bottom:6px;}
        .result-max{font-family:'Cinzel',serif;font-size:.6rem;letter-spacing:4px;color:var(--text-muted);text-transform:uppercase;margin-bottom:32px;display:block;}
        .result-btns{display:flex;gap:14px;justify-content:center;flex-wrap:wrap;}

        /* TRIVIA */
        .trivia-card{background:var(--card);border:1px solid var(--border);padding:40px 36px;position:relative;}
        .trivia-card::before{content:'';position:absolute;top:0;left:0;right:0;height:3px;background:linear-gradient(to right,transparent,var(--gold),transparent);}
        .tq-num{font-family:'Cinzel',serif;font-size:.58rem;letter-spacing:4px;color:var(--gold);opacity:.6;margin-bottom:8px;text-transform:uppercase;}
        .tq-text{font-size:clamp(1.1rem,2.5vw,1.4rem);font-weight:600;line-height:1.5;margin-bottom:28px;color:var(--parchment);}
        .tq-timer-bar{height:4px;background:rgba(255,255,255,.08);border-radius:2px;margin-bottom:28px;overflow:hidden;}
        .tq-timer-fill{height:100%;background:linear-gradient(to right,var(--gold),#ff8c00);border-radius:2px;transition:width .1s linear;}
        .tq-opts{display:grid;grid-template-columns:1fr 1fr;gap:12px;}
        .tq-opt{background:rgba(255,255,255,.04);border:1px solid var(--border);color:var(--parchment);font-family:'Cormorant Garamond',serif;font-size:1rem;padding:14px 18px;text-align:left;cursor:pointer;transition:all .2s;line-height:1.4;}
        .tq-opt:hover:not(.disabled){border-color:var(--gold);background:rgba(201,168,76,.1);transform:translateY(-2px);}
        .tq-opt.correct{border-color:#4CAF50;background:rgba(76,175,80,.18);color:#a5d6a7;}
        .tq-opt.wrong{border-color:#ef5350;background:rgba(239,83,80,.14);color:#ef9a9a;}
        .tq-opt.disabled{cursor:not-allowed;}
        .tq-feedback{font-family:'Cinzel',serif;font-size:.65rem;letter-spacing:2px;text-transform:uppercase;padding:12px 18px;margin-top:18px;display:none;}
        .tq-feedback.show{display:block;animation:fade-in .3s ease;}
        .tq-feedback.right{background:rgba(76,175,80,.12);border:1px solid #4CAF50;color:#a5d6a7;}
        .tq-feedback.wrong{background:rgba(239,83,80,.1);border:1px solid #ef5350;color:#ef9a9a;}
        .tq-feedback.time{background:rgba(255,165,0,.1);border:1px solid orange;color:#ffcc80;}
        .tq-progress{display:flex;gap:6px;margin-bottom:24px;}
        .tq-dot{flex:1;height:6px;background:rgba(255,255,255,.08);border-radius:3px;transition:background .3s;}
        .tq-dot.done-right{background:#4CAF50;}
        .tq-dot.done-wrong{background:#ef5350;}
        .tq-dot.current{background:var(--gold);animation:pulse-gold 1s ease-in-out infinite;}
        @keyframes pulse-gold{0%,100%{opacity:1}50%{opacity:.5}}

        /* SCRAMBLE */
        .scramble-word{font-family:'Cinzel Decorative',serif;font-size:clamp(2rem,6vw,3.5rem);color:var(--gold);text-align:center;letter-spacing:8px;margin:30px 0;text-shadow:0 0 20px rgba(201,168,76,.3);animation:word-glow 2s ease-in-out infinite;}
        @keyframes word-glow{0%,100%{text-shadow:0 0 20px rgba(201,168,76,.3)}50%{text-shadow:0 0 40px rgba(201,168,76,.6),0 0 60px rgba(201,168,76,.2)}}
        .scramble-hint{font-style:italic;color:var(--text-muted);text-align:center;font-size:.95rem;margin-bottom:28px;}
        .scramble-category{display:block;font-family:'Cinzel',serif;font-size:.52rem;letter-spacing:3px;color:var(--gold);border:1px solid rgba(201,168,76,.3);padding:5px 14px;text-transform:uppercase;width:fit-content;margin:0 auto 10px;}
        .scramble-input-wrap{display:flex;gap:12px;justify-content:center;margin-bottom:18px;flex-wrap:wrap;}
        .scramble-input{font-family:'Cinzel Decorative',serif;font-size:1.3rem;color:var(--gold);background:transparent;border:none;border-bottom:2px solid var(--border);width:220px;padding:10px 4px;text-align:center;letter-spacing:6px;outline:none;text-transform:uppercase;transition:border-color .2s;}
        .scramble-input:focus{border-bottom-color:var(--gold);}
        .scramble-input::placeholder{color:rgba(201,168,76,.2);font-size:1rem;letter-spacing:2px;}
        .scramble-feedback{font-family:'Cinzel',serif;font-size:.68rem;letter-spacing:3px;text-align:center;padding:12px;text-transform:uppercase;min-height:46px;display:flex;align-items:center;justify-content:center;}
        .scramble-feedback.correct{color:#a5d6a7;}
        .scramble-feedback.wrong{color:#ef9a9a;}
        .scramble-lives{display:flex;gap:8px;justify-content:center;margin-bottom:6px;font-size:1.3rem;}
        .skip-link{font-family:'Cinzel',serif;font-size:.55rem;letter-spacing:2px;color:var(--text-muted);background:none;border:none;cursor:pointer;text-transform:uppercase;text-decoration:underline;text-underline-offset:3px;transition:color .2s;margin-top:8px;display:block;width:100%;text-align:center;}
        .skip-link:hover{color:var(--gold);}

        /* MEMORY */
        .memory-grid{display:grid;grid-template-columns:repeat(4,1fr);gap:12px;margin:0 auto 30px;max-width:480px;}
        .mem-card{aspect-ratio:1;border:1px solid var(--border);cursor:pointer;position:relative;overflow:hidden;perspective:400px;}
        .mem-inner{width:100%;height:100%;transform-style:preserve-3d;transition:transform .4s;}
        .mem-card.flipped .mem-inner,.mem-card.matched .mem-inner{transform:rotateY(180deg);}
        .mem-back,.mem-front{position:absolute;inset:0;display:flex;align-items:center;justify-content:center;backface-visibility:hidden;}
        .mem-back{background:linear-gradient(135deg,#1a0f10,#0f0a14);font-size:1.3rem;color:var(--gold);}
        .mem-front{background:var(--surface);font-size:1.8rem;transform:rotateY(180deg);}
        .mem-card:hover:not(.flipped):not(.matched){border-color:rgba(201,168,76,.5);transform:scale(1.04);}
        .mem-card.matched{border-color:#4CAF50;box-shadow:0 0 10px rgba(76,175,80,.2);}
        .mem-card.wrong-flash{animation:wf .4s ease;}
        @keyframes wf{0%,100%{border-color:var(--border)}50%{border-color:#ef5350;box-shadow:0 0 12px rgba(239,83,80,.3)}}

        /* DUEL */
        .duel-arena{background:var(--card);border:1px solid var(--border);padding:36px 28px;position:relative;overflow:hidden;}
        .duel-arena::before{content:'';position:absolute;inset:0;background:radial-gradient(ellipse 80% 80% at 50% 50%,rgba(96,0,40,.1),transparent);pointer-events:none;}
        .duel-vs{display:flex;align-items:center;gap:20px;margin-bottom:36px;}
        .dueler{flex:1;text-align:center;}
        .dueler-name{font-family:'Cinzel',serif;font-size:.65rem;letter-spacing:3px;text-transform:uppercase;margin-bottom:8px;}
        .dueler-hp-bar{height:8px;background:rgba(255,255,255,.08);border-radius:4px;overflow:hidden;margin-bottom:6px;}
        .dueler-hp-fill{height:100%;border-radius:4px;transition:width .5s ease;}
        .dueler-hp-num{font-family:'Cinzel Decorative',serif;font-size:1.1rem;}
        .duel-vs-badge{font-family:'Cinzel Decorative',serif;font-size:1.5rem;color:var(--gold);opacity:.6;flex-shrink:0;}
        .duel-prompt{text-align:center;margin-bottom:24px;}
        .duel-spell-label{font-family:'Cinzel',serif;font-size:.58rem;letter-spacing:4px;color:var(--gold);opacity:.7;text-transform:uppercase;margin-bottom:8px;}
        .duel-spell{font-family:'Cinzel Decorative',serif;font-size:clamp(1.5rem,4vw,2.5rem);color:var(--gold);text-shadow:0 0 20px rgba(201,168,76,.4);}
        .duel-input-row{display:flex;gap:12px;justify-content:center;margin-bottom:18px;flex-wrap:wrap;}
        .duel-input{font-family:'Cinzel Decorative',serif;font-size:1.2rem;color:var(--gold);background:transparent;border:none;border-bottom:2px solid var(--border);width:260px;padding:10px 4px;text-align:center;letter-spacing:4px;outline:none;text-transform:uppercase;transition:border-color .2s;}
        .duel-input:focus{border-bottom-color:var(--gold);}
        .duel-cast-btn{font-family:'Cinzel',serif;font-size:.62rem;letter-spacing:3px;color:var(--deep);background:var(--gold);border:none;padding:13px 28px;cursor:pointer;text-transform:uppercase;font-weight:700;transition:all .3s;}
        .duel-cast-btn:hover{background:var(--gold-light);}
        .duel-level-badge{display:inline-block;font-family:'Cinzel',serif;font-size:.52rem;letter-spacing:3px;padding:5px 14px;border:1px solid var(--border);color:var(--text-muted);text-transform:uppercase;margin-bottom:16px;}
        .duel-log{max-height:130px;overflow-y:auto;padding:14px 18px;background:rgba(0,0,0,.3);border:1px solid rgba(201,168,76,.1);font-style:italic;font-size:.9rem;color:var(--text-muted);line-height:1.8;}
        .duel-log::-webkit-scrollbar{width:3px;}
        .duel-log::-webkit-scrollbar-thumb{background:var(--gold-dark);}
        .duel-log-line{animation:fade-in .3s ease;}
        .duel-log-line.hit{color:#ffcc80;}
        .duel-log-line.heal{color:#a5d6a7;}
        .duel-log-line.enemy{color:#ef9a9a;}

        .games-footer{border-top:1px solid var(--border);padding:50px 20px;text-align:center;margin-top:40px;}
        .games-footer-brand{font-family:'Cinzel Decorative',serif;font-size:1.1rem;color:var(--gold);margin-bottom:8px;}
        .games-footer-copy{font-size:.85rem;color:var(--text-muted);}

        @media(hover:none){body{cursor:auto;}#cursor,#cursor-dot{display:none;}.tq-opt,.mem-card,.duel-cast-btn,.gold-btn,.ghost-btn,.tab-btn,.skip-link{cursor:pointer;}}
        @media(max-width:640px){
            nav{padding:13px 4%;}.nav-brand{font-size:.75rem;}.nav-right{gap:12px;}.nav-right .nav-link,.nav-right .nav-cta{display:none;}.hamburger{display:flex;}
            .tq-opts{grid-template-columns:1fr;}
            .memory-grid{gap:8px;max-width:340px;}
            .tabs-bar{padding:20px 8px 0;}
            .tab-btn{padding:10px 12px;font-size:.5rem;letter-spacing:2px;}
            .game-wrap{padding:40px 16px 60px;}
            .duel-input{width:180px;}
            .trivia-card{padding:28px 20px;}
        }
    </style>
</head>
<body>
<div id="cursor"></div>
<div id="cursor-dot"></div>
<div class="nav-overlay" id="nav-overlay"></div>
<div class="nav-drawer" id="nav-drawer">
    <a class="nav-drawer-link" href="index.html"><span class="nav-drawer-icon">üìö</span>Library</a>
    <a class="nav-drawer-link" href="index.html#collections"><span class="nav-drawer-icon">üóÇÔ∏è</span>Collections</a>
    <a class="nav-drawer-link" href="index.html#sorting-hat-section"><span class="nav-drawer-icon">üé©</span>Sorting Hat</a>
    <a class="nav-drawer-link" href="index.html#trivia-section"><span class="nav-drawer-icon">‚ö°</span>Daily Trivia</a>
    <a class="nav-drawer-link active" href="games.html"><span class="nav-drawer-icon">üéÆ</span>Games & Quizzes</a>
    <a class="nav-drawer-cta" href="https://tinyurl.com/ElibraryDarshMembership" target="_blank">‚ú¶ Join Now ‚Äî ‚Çπ99/mo</a>
</div>
<nav id="nav">
    <a class="nav-brand" href="index.html">E¬∑Library</a>
    <div class="nav-right">
        <a class="nav-link" href="index.html">Library</a>
        <a class="nav-link" href="index.html#collections">Collections</a>
        <a class="nav-link active" href="games.html">üéÆ Games</a>
        <a class="nav-cta" href="https://tinyurl.com/ElibraryDarshMembership" target="_blank">Join Now</a>
    </div>
    <button class="hamburger" id="hamburger"><span></span><span></span><span></span></button>
</nav>

<header class="page-hero">
    <p class="page-eyebrow">Wizarding World ¬∑ Fun Zone</p>
    <h1 class="page-title">üéÆ Games & Quizzes</h1>
    <p class="page-sub">Test your wizarding knowledge, scramble spells, match magical symbols and duel dark wizards!</p>
</header>

<div class="tabs-bar">
    <button class="tab-btn active" id="tab-trivia-blitz" onclick="switchTab('trivia-blitz')"><span class="tab-icon">‚ö°</span>Trivia Blitz</button>
    <button class="tab-btn" id="tab-spell-scramble" onclick="switchTab('spell-scramble')"><span class="tab-icon">üî§</span>Spell Scramble</button>
    <button class="tab-btn" id="tab-memory-match" onclick="switchTab('memory-match')"><span class="tab-icon">üÉè</span>Memory Match</button>
    <button class="tab-btn" id="tab-spell-duel" onclick="switchTab('spell-duel')"><span class="tab-icon">‚öîÔ∏è</span>Spell Duel</button>
</div>

<div class="tabs-content">

<!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê 1. TRIVIA BLITZ ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->
<div class="tab-panel active" id="panel-trivia-blitz">
<div class="game-wrap">
    <h2 class="game-title">‚ö° Trivia Blitz</h2>
    <p class="game-desc">10 questions, 15 seconds each ‚Äî how many can you answer before time runs out?</p>
    <div id="tb-start">
        <div style="text-align:center;padding:20px 0">
            <div style="font-size:5rem;margin-bottom:20px">üèÜ</div>
            <div style="font-family:'Cinzel',serif;font-size:.6rem;letter-spacing:4px;color:var(--gold);text-transform:uppercase;margin-bottom:20px">Choose difficulty</div>
            <div style="display:flex;gap:14px;justify-content:center;flex-wrap:wrap;margin-bottom:30px">
                <button class="ghost-btn" onclick="startTrivia('easy')">üü¢ Easy</button>
                <button class="gold-btn" onclick="startTrivia('medium')">üü° Medium</button>
                <button class="ghost-btn" onclick="startTrivia('hard')">üî¥ Hard</button>
            </div>
            <div id="tb-best" style="font-family:'Cinzel',serif;font-size:.58rem;letter-spacing:3px;color:var(--text-muted);text-transform:uppercase"></div>
        </div>
    </div>
    <div id="tb-game" style="display:none">
        <div class="score-board">
            <div class="score-item"><div class="score-val" id="tb-score">0</div><div class="score-lbl">Score</div></div>
            <div class="score-item"><div class="score-val" id="tb-streak">0</div><div class="score-lbl">Streak üî•</div></div>
            <div class="score-item"><div class="score-val" id="tb-qnum">1/10</div><div class="score-lbl">Question</div></div>
        </div>
        <div class="tq-progress" id="tb-progress"></div>
        <div class="trivia-card">
            <div class="tq-timer-bar"><div class="tq-timer-fill" id="tb-timer-fill" style="width:100%"></div></div>
            <div class="tq-num" id="tb-cat"></div>
            <div class="tq-text" id="tb-q"></div>
            <div class="tq-opts" id="tb-opts"></div>
            <div class="tq-feedback" id="tb-fb"></div>
        </div>
    </div>
    <div id="tb-result" style="display:none">
        <div class="result-card">
            <span class="result-emoji" id="tb-res-emoji"></span>
            <div class="result-title" id="tb-res-title"></div>
            <div class="result-sub" id="tb-res-sub"></div>
            <span class="result-final-score" id="tb-res-score"></span>
            <span class="result-max">out of 100 points</span>
            <div class="result-btns">
                <button class="gold-btn" onclick="startTrivia(tbDiff)">Play Again</button>
                <button class="ghost-btn" onclick="showTBStart()">Change Difficulty</button>
            </div>
        </div>
    </div>
</div>
</div>

<!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê 2. SPELL SCRAMBLE ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->
<div class="tab-panel" id="panel-spell-scramble">
<div class="game-wrap">
    <h2 class="game-title">üî§ Spell Scramble</h2>
    <p class="game-desc">A mischievous Niffler has scrambled the letters of spells and wizarding words. Unscramble them!</p>
    <div class="score-board">
        <div class="score-item"><div class="score-val" id="ss-score">0</div><div class="score-lbl">Score</div></div>
        <div class="score-item"><div class="score-val" id="ss-solved">0</div><div class="score-lbl">Solved</div></div>
        <div class="score-item"><div class="scramble-lives" id="ss-lives" style="font-size:1.5rem">‚ù§Ô∏è‚ù§Ô∏è‚ù§Ô∏è</div><div class="score-lbl">Lives</div></div>
    </div>
    <div id="ss-game">
        <div class="scramble-category" id="ss-cat">Spell</div>
        <div class="scramble-word" id="ss-word">IROUNOCAL</div>
        <div class="scramble-hint" id="ss-hint"></div>
        <div class="scramble-input-wrap">
            <input class="scramble-input" id="ss-input" placeholder="TYPE ANSWER" maxlength="20" autocomplete="off" autocorrect="off" spellcheck="false">
            <button class="gold-btn" onclick="checkScramble()">Cast ‚ú®</button>
        </div>
        <div class="scramble-feedback" id="ss-fb"></div>
        <button class="skip-link" onclick="skipScramble()">Skip this one ‚Üí</button>
    </div>
    <div id="ss-over" style="display:none">
        <div class="result-card">
            <span class="result-emoji">üíÄ</span>
            <div class="result-title">All Lives Lost!</div>
            <div class="result-sub">The Dark Arts have defeated you this time‚Ä¶</div>
            <span class="result-final-score" id="ss-final"></span>
            <span class="result-max">words unscrambled</span>
            <button class="gold-btn" onclick="resetScramble()" style="margin-top:20px">Try Again</button>
        </div>
    </div>
</div>
</div>

<!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê 3. MEMORY MATCH ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->
<div class="tab-panel" id="panel-memory-match">
<div class="game-wrap">
    <h2 class="game-title">üÉè Memory Match</h2>
    <p class="game-desc">Match pairs of magical creatures, spells and wizarding symbols. Don't let the Boggart confuse you!</p>
    <div class="score-board">
        <div class="score-item"><div class="score-val" id="mm-moves">0</div><div class="score-lbl">Moves</div></div>
        <div class="score-item"><div class="score-val" id="mm-pairs">0/8</div><div class="score-lbl">Pairs</div></div>
        <div class="score-item"><div class="score-val" id="mm-time">0:00</div><div class="score-lbl">Time</div></div>
    </div>
    <div class="memory-grid" id="mm-grid"></div>
    <div style="text-align:center"><button class="ghost-btn" onclick="resetMemory()">New Game</button></div>
    <div id="mm-win" style="display:none;margin-top:30px">
        <div class="result-card">
            <span class="result-emoji">üèÜ</span>
            <div class="result-title">Excellent Memory!</div>
            <div class="result-sub" id="mm-win-sub"></div>
            <div class="result-btns"><button class="gold-btn" onclick="resetMemory()">Play Again</button></div>
        </div>
    </div>
</div>
</div>

<!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê 4. SPELL DUEL ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->
<div class="tab-panel" id="panel-spell-duel">
<div class="game-wrap">
    <h2 class="game-title">‚öîÔ∏è Spell Duel</h2>
    <p class="game-desc">Face off against a dark wizard! Type spells correctly to cast them. Wrong answers let the enemy strike back!</p>
    <div id="sd-start" style="text-align:center;padding:20px 0">
        <div style="font-size:4rem;margin-bottom:20px">üßô‚Äç‚ôÇÔ∏è‚ö°üßü</div>
        <div style="font-family:'Cinzel',serif;font-size:.6rem;letter-spacing:4px;color:var(--gold);text-transform:uppercase;margin-bottom:20px">Choose your enemy</div>
        <div style="display:flex;gap:14px;justify-content:center;flex-wrap:wrap">
            <button class="ghost-btn" onclick="startDuel('Draco Malfoy','üßí',60)">üßí Draco Malfoy</button>
            <button class="gold-btn" onclick="startDuel('Bellatrix Lestrange','üßô‚Äç‚ôÄÔ∏è',100)">üßô‚Äç‚ôÄÔ∏è Bellatrix</button>
            <button class="ghost-btn" onclick="startDuel('Lord Voldemort','üêç',150)">üêç Voldemort</button>
        </div>
    </div>
    <div id="sd-game" style="display:none">
        <div class="duel-level-badge" id="sd-badge"></div>
        <div class="duel-arena">
            <div class="duel-vs">
                <div class="dueler">
                    <div class="dueler-name" style="color:var(--gold)">You üßô</div>
                    <div class="dueler-hp-bar"><div class="dueler-hp-fill" id="sd-p-bar" style="width:100%;background:linear-gradient(to right,#4CAF50,#8BC34A)"></div></div>
                    <div class="dueler-hp-num" id="sd-p-hp" style="color:#a5d6a7"></div>
                </div>
                <div class="duel-vs-badge">VS</div>
                <div class="dueler">
                    <div class="dueler-name" id="sd-e-name" style="color:#ef9a9a"></div>
                    <div class="dueler-hp-bar"><div class="dueler-hp-fill" id="sd-e-bar" style="width:100%;background:linear-gradient(to right,#ef5350,#f44336)"></div></div>
                    <div class="dueler-hp-num" id="sd-e-hp" style="color:#ef9a9a"></div>
                </div>
            </div>
            <div class="duel-prompt">
                <div class="duel-spell-label">Cast this spell:</div>
                <div class="duel-spell" id="sd-spell"></div>
            </div>
            <div class="duel-input-row">
                <input class="duel-input" id="sd-input" placeholder="TYPE THE SPELL" autocomplete="off" autocorrect="off" spellcheck="false">
                <button class="duel-cast-btn" onclick="castSpell()">Cast!</button>
            </div>
            <div class="duel-log" id="sd-log"></div>
        </div>
    </div>
    <div id="sd-result" style="display:none;margin-top:30px">
        <div class="result-card">
            <span class="result-emoji" id="sd-r-emoji"></span>
            <div class="result-title" id="sd-r-title"></div>
            <div class="result-sub" id="sd-r-sub"></div>
            <div class="result-btns" style="margin-top:24px">
                <button class="gold-btn" id="sd-rematch">Rematch!</button>
                <button class="ghost-btn" onclick="document.getElementById('sd-game').style.display='none';document.getElementById('sd-result').style.display='none';document.getElementById('sd-start').style.display='block'">Choose Enemy</button>
            </div>
        </div>
    </div>
</div>
</div>

</div><!-- end tabs-content -->

<div class="games-footer">
    <div class="games-footer-brand">E¬∑Library</div>
    <p class="games-footer-copy">¬© 2026 E-Library ¬∑ Mischief Managed</p>
</div>

<script>
/* ‚ïê‚ïê CURSOR ‚ïê‚ïê */
const cur=document.getElementById('cursor'),curD=document.getElementById('cursor-dot');
let mx=0,my=0,cx=0,cy=0;
document.addEventListener('mousemove',e=>{mx=e.clientX;my=e.clientY;curD.style.left=mx+'px';curD.style.top=my+'px';});
(function ac(){cx+=(mx-cx)*.12;cy+=(my-cy)*.12;cur.style.left=cx+'px';cur.style.top=cy+'px';requestAnimationFrame(ac);})();
document.addEventListener('mousedown',()=>cur.classList.add('clicking'));
document.addEventListener('mouseup',()=>cur.classList.remove('clicking'));
const SC=['#FFD700','#FFF8DC','#C9A84C','#fff','#ffa500','#a78bfa'];
document.addEventListener('click',e=>{for(let i=0;i<12;i++){const s=document.createElement('div');s.className='spark';const a=Math.random()*360,d=25+Math.random()*45,tx=Math.cos(a*Math.PI/180)*d,ty=Math.sin(a*Math.PI/180)*d,sz=2+Math.random()*4;s.style.cssText=`left:${e.clientX}px;top:${e.clientY}px;width:${sz}px;height:${sz}px;background:${SC[Math.floor(Math.random()*SC.length)]};--tx:${tx}px;--ty:${ty}px;animation-duration:${.4+Math.random()*.35}s`;document.body.appendChild(s);setTimeout(()=>s.remove(),700);}});

/* ‚ïê‚ïê NAV ‚ïê‚ïê */
window.addEventListener('scroll',()=>document.getElementById('nav').classList.toggle('scrolled',scrollY>80));
const ham=document.getElementById('hamburger'),drw=document.getElementById('nav-drawer'),ovl=document.getElementById('nav-overlay');
function openD(){ham.classList.add('open');drw.classList.add('open');ovl.classList.add('show');document.body.style.overflow='hidden';}
function closeD(){ham.classList.remove('open');drw.classList.remove('open');ovl.classList.remove('show');document.body.style.overflow='';}
ham.addEventListener('click',()=>drw.classList.contains('open')?closeD():openD());
ovl.addEventListener('click',closeD);
document.querySelectorAll('.nav-drawer-link').forEach(l=>l.addEventListener('click',closeD));

/* ‚ïê‚ïê TABS ‚ïê‚ïê */
const TABS=['trivia-blitz','spell-scramble','memory-match','spell-duel'];
function switchTab(id){
    TABS.forEach(t=>{
        document.getElementById('tab-'+t).classList.toggle('active',t===id);
        document.getElementById('panel-'+t).classList.toggle('active',t===id);
    });
}

/* ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
            1. TRIVIA BLITZ
‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê */
const QB={
easy:[
    {cat:"Spells",q:"What spell makes objects fly?",opts:["Lumos","Wingardium Leviosa","Expelliarmus","Stupefy"],a:1},
    {cat:"Characters",q:"What is the name of Harry's owl?",opts:["Fawkes","Crookshanks","Hedwig","Scabbers"],a:2},
    {cat:"Hogwarts",q:"Which house does Harry Potter belong to?",opts:["Slytherin","Ravenclaw","Hufflepuff","Gryffindor"],a:3},
    {cat:"Spells",q:"What spell produces light from a wand?",opts:["Nox","Lumos","Alohomora","Accio"],a:1},
    {cat:"Characters",q:"Who is Harry Potter's best friend?",opts:["Neville","Draco","Ron","Dean"],a:2},
    {cat:"Creatures",q:"What creature is Hedwig?",opts:["Cat","Toad","Owl","Rat"],a:2},
    {cat:"Spells",q:"What spell unlocks doors?",opts:["Colloportus","Alohomora","Nox","Accio"],a:1},
    {cat:"Characters",q:"What is the name of Hermione's cat?",opts:["Crookshanks","Pigwidgeon","Trevor","Scabbers"],a:0},
    {cat:"Objects",q:"What is Harry's broomstick in his first year?",opts:["Nimbus 2001","Firebolt","Cleansweep","Nimbus 2000"],a:3},
    {cat:"Hogwarts",q:"What is the name of the school of witchcraft?",opts:["Durmstrang","Beauxbatons","Castelobruxo","Hogwarts"],a:3},
],
medium:[
    {cat:"Potions",q:"Which potion grants extraordinary luck?",opts:["Veritaserum","Polyjuice Potion","Felix Felicis","Amortentia"],a:2},
    {cat:"Spells",q:"What is the incantation for the Patronus charm?",opts:["Lumos Patronum","Expecto Patronum","Riddikulus","Protego"],a:1},
    {cat:"Characters",q:"Who is the Half-Blood Prince?",opts:["Tom Riddle","Draco Malfoy","Severus Snape","Sirius Black"],a:2},
    {cat:"Hogwarts",q:"What does Hermione's Patronus look like?",opts:["Doe","Cat","Otter","Hare"],a:2},
    {cat:"Objects",q:"In which Gringotts vault was the Philosopher's Stone kept?",opts:["Vault 999","Vault 687","Vault 317","Vault 713"],a:3},
    {cat:"Spells",q:"What does the spell 'Riddikulus' do?",opts:["Creates fire","Banishes a boggart","Summons objects","Heals wounds"],a:1},
    {cat:"Characters",q:"What is Voldemort's real name?",opts:["Tom Marvolo Riddle","Tom Riddle Jr","Ralph Riddle","Thomas Gaunt"],a:0},
    {cat:"Objects",q:"What is the core of Harry's wand?",opts:["Dragon heartstring","Unicorn hair","Phoenix feather","Veela hair"],a:2},
    {cat:"Creatures",q:"What magical creature is a Blast-Ended Skrewt?",opts:["Pure-blood creature","Muggle invention","Magical hybrid","Giant spider"],a:2},
    {cat:"Spells",q:"What spell is used to disarm an opponent?",opts:["Stupefy","Crucio","Expelliarmus","Accio"],a:2},
],
hard:[
    {cat:"Lore",q:"What are the three Deathly Hallows?",opts:["Wand, ring, cloak","Stone, wand, mirror","Wand, stone, cloak","Sword, stone, wand"],a:2},
    {cat:"Characters",q:"Who was Headmaster of Hogwarts before Dumbledore?",opts:["Armando Dippet","Everard","Phineas Black","Dilys Derwent"],a:0},
    {cat:"Creatures",q:"What does a Basilisk's indirect gaze do?",opts:["Kills instantly","Blinds permanently","Petrifies","Causes amnesia"],a:2},
    {cat:"Potions",q:"What is the base ingredient of Polyjuice Potion?",opts:["Boomslang skin","Bicorn horn","Fluxweed","Lacewing flies"],a:3},
    {cat:"Characters",q:"Which ghost haunts the girls' bathroom?",opts:["The Bloody Baron","Moaning Myrtle","Nearly Headless Nick","The Grey Lady"],a:1},
    {cat:"Objects",q:"What does the Mirror of Erised show?",opts:["The future","The past","One's deepest desire","One's greatest fear"],a:2},
    {cat:"Spells",q:"What spell does Harry use to defeat Voldemort in their final duel?",opts:["Avada Kedavra","Stupefy","Expelliarmus","Crucio"],a:2},
    {cat:"Lore",q:"What is the name of the magical village near Hogwarts?",opts:["Diagon Alley","Knockturn Alley","Hogsmeade","Godric's Hollow"],a:2},
    {cat:"Spells",q:"What does 'Morsmordre' conjure in the sky?",opts:["The Dark Mark","A Patronus","Fiendfyre","Serpensortia"],a:0},
    {cat:"Lore",q:"What language can Harry Potter speak due to Voldemort's Horcrux?",opts:["Mermish","Gobbledegook","Parseltongue","Troll"],a:2},
]};
let tbScore=0,tbStreak=0,tbQIdx=0,tbDiff='medium',tbTimer=null,tbAnswered=false,tbDots=[];
const TB_TIME={easy:20,medium:15,hard:10};
function showTBStart(){
    document.getElementById('tb-start').style.display='block';
    document.getElementById('tb-game').style.display='none';
    document.getElementById('tb-result').style.display='none';
    const b=localStorage.getItem('tb_best_'+tbDiff);
    document.getElementById('tb-best').textContent=b?'Best score ('+tbDiff+'): '+b+' pts':'';
}
function startTrivia(diff){
    tbDiff=diff;tbScore=0;tbStreak=0;tbQIdx=0;tbAnswered=false;tbDots=Array(10).fill('');
    document.getElementById('tb-start').style.display='none';
    document.getElementById('tb-game').style.display='block';
    document.getElementById('tb-result').style.display='none';
    loadTBQ();
}
function renderTBProg(){
    document.getElementById('tb-progress').innerHTML=tbDots.map((d,i)=>`<div class="tq-dot ${i<tbQIdx?d:i===tbQIdx?'current':''}"></div>`).join('');
}
function loadTBQ(){
    if(tbQIdx>=10){endTrivia();return;}
    tbAnswered=false;
    const q=QB[tbDiff][tbQIdx];
    document.getElementById('tb-score').textContent=tbScore;
    document.getElementById('tb-streak').textContent=tbStreak;
    document.getElementById('tb-qnum').textContent=(tbQIdx+1)+'/10';
    document.getElementById('tb-cat').textContent=q.cat;
    document.getElementById('tb-q').textContent=q.q;
    document.getElementById('tb-fb').className='tq-feedback';
    const sh=[...q.opts.map((t,i)=>({t,i}))].sort(()=>Math.random()-.5);
    document.getElementById('tb-opts').innerHTML=sh.map(o=>`<button class="tq-opt" data-orig="${o.i}" onclick="tbAnswer(${o.i})">${o.t}</button>`).join('');
    renderTBProg();
    clearInterval(tbTimer);
    const tot=TB_TIME[tbDiff];let el=0;
    document.getElementById('tb-timer-fill').style.width='100%';
    tbTimer=setInterval(()=>{
        el+=0.1;
        const pct=Math.max(0,100-(el/tot*100));
        const f=document.getElementById('tb-timer-fill');
        if(f){f.style.width=pct+'%';f.style.background=pct>50?'linear-gradient(to right,var(--gold),#ff8c00)':pct>25?'linear-gradient(to right,#ff8c00,#ff4500)':'linear-gradient(to right,#ff4500,#cc0000)';}
        if(el>=tot&&!tbAnswered){
            tbAnswered=true;clearInterval(tbTimer);
            document.querySelectorAll('.tq-opt').forEach(b=>{b.classList.add('disabled');if(parseInt(b.dataset.orig)===q.a)b.classList.add('correct');});
            const fb=document.getElementById('tb-fb');fb.className='tq-feedback time show';fb.textContent="‚è∞ Time's up! Answer: "+q.opts[q.a];
            tbStreak=0;tbDots[tbQIdx]='done-wrong';
            setTimeout(()=>{tbQIdx++;loadTBQ();},1800);
        }
    },100);
}
function tbAnswer(origIdx){
    if(tbAnswered)return;tbAnswered=true;clearInterval(tbTimer);
    const q=QB[tbDiff][tbQIdx];
    document.querySelectorAll('.tq-opt').forEach(b=>{b.classList.add('disabled');const i=parseInt(b.dataset.orig);if(i===q.a)b.classList.add('correct');else if(i===origIdx)b.classList.add('wrong');});
    const ok=origIdx===q.a;
    const fb=document.getElementById('tb-fb');
    if(ok){tbStreak++;const m=tbDiff==='easy'?1:tbDiff==='medium'?1.5:2;const pts=Math.round(10*m*(1+Math.floor(tbStreak/3)*.5));tbScore+=pts;fb.className='tq-feedback right show';fb.textContent=`‚ö° Correct! +${pts} pts${tbStreak>1?' ('+tbStreak+'x streak!)':''}`;tbDots[tbQIdx]='done-right';}
    else{tbStreak=0;fb.className='tq-feedback wrong show';fb.textContent='‚úó Answer: '+q.opts[q.a];tbDots[tbQIdx]='done-wrong';}
    document.getElementById('tb-score').textContent=tbScore;
    document.getElementById('tb-streak').textContent=tbStreak;
    renderTBProg();
    setTimeout(()=>{tbQIdx++;loadTBQ();},1600);
}
function endTrivia(){
    clearInterval(tbTimer);
    document.getElementById('tb-game').style.display='none';
    document.getElementById('tb-result').style.display='block';
    let emoji,title,sub;
    if(tbScore>=90){emoji='üèÜ';title='Unbeatable!';sub="Dumbledore himself would be impressed!";}
    else if(tbScore>=60){emoji='‚ö°';title='Outstanding!';sub="You could pass your O.W.L.s with ease!";}
    else if(tbScore>=30){emoji='üé©';title='Acceptable';sub="Keep reading and you'll do better next time!";}
    else{emoji='üìö';title='Troll...';sub="Back to the library for you! Much more to learn.";}
    document.getElementById('tb-res-emoji').textContent=emoji;
    document.getElementById('tb-res-title').textContent=title;
    document.getElementById('tb-res-sub').textContent=sub;
    document.getElementById('tb-res-score').textContent=tbScore;
    const prev=parseInt(localStorage.getItem('tb_best_'+tbDiff)||'0');
    if(tbScore>prev)localStorage.setItem('tb_best_'+tbDiff,tbScore);
}
showTBStart();

/* ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
            2. SPELL SCRAMBLE
‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê */
const SW=[
    {w:"LUMOS",h:"Lighting charm",c:"Spell"},{w:"PATRONUS",h:"Spirit animal protector",c:"Magic"},
    {w:"HOGWARTS",h:"School of witchcraft and wizardry",c:"Place"},{w:"HERMIONE",h:"The cleverest witch of her age",c:"Character"},
    {w:"QUIDDITCH",h:"Wizarding sport on broomsticks",c:"Sport"},{w:"DUMBLEDORE",h:"Greatest wizard of the age",c:"Character"},
    {w:"EXPELLIARMUS",h:"Disarming spell",c:"Spell"},{w:"HORCRUX",h:"Object containing a piece of soul",c:"Dark Magic"},
    {w:"BASILISK",h:"Deadly serpent in Chamber of Secrets",c:"Creature"},{w:"VOLDEMORT",h:"He-Who-Must-Not-Be-Named",c:"Character"},
    {w:"GRYFFINDOR",h:"House of the brave at heart",c:"House"},{w:"SLYTHERIN",h:"House of the cunning",c:"House"},
    {w:"RAVENCLAW",h:"House of the wise",c:"House"},{w:"HUFFLEPUFF",h:"House of the loyal",c:"House"},
    {w:"NIFFLER",h:"Creature that loves shiny things",c:"Creature"},{w:"PHOENIX",h:"Fawkes is one of these",c:"Creature"},
    {w:"BUTTERBEER",h:"Favourite drink at Three Broomsticks",c:"Food"},{w:"AZKABAN",h:"The wizarding prison",c:"Place"},
    {w:"DIAGON",h:"___ Alley ‚Äî the wizarding shopping street",c:"Place"},{w:"ACCIO",h:"Summoning charm",c:"Spell"},
];
let ssScore=0,ssSolved=0,ssLives=3,ssIdx=0,ssOrder=[];
function scramble(w){let a=[...w];for(let i=a.length-1;i>0;i--){const j=Math.floor(Math.random()*(i+1));[a[i],a[j]]=[a[j],a[i]];}return a.join('')===w?scramble(w):a.join('');}
function resetScramble(){ssScore=0;ssSolved=0;ssLives=3;ssIdx=0;ssOrder=[...SW].sort(()=>Math.random()-.5);document.getElementById('ss-game').style.display='block';document.getElementById('ss-over').style.display='none';loadSW();}
function loadSW(){
    if(ssIdx>=ssOrder.length){ssIdx=0;ssOrder.sort(()=>Math.random()-.5);}
    const w=ssOrder[ssIdx];
    document.getElementById('ss-cat').textContent=w.c;
    document.getElementById('ss-word').textContent=scramble(w.w);
    document.getElementById('ss-hint').textContent='Hint: '+w.h;
    document.getElementById('ss-input').value='';
    document.getElementById('ss-fb').textContent='';
    document.getElementById('ss-fb').className='scramble-feedback';
    document.getElementById('ss-score').textContent=ssScore;
    document.getElementById('ss-solved').textContent=ssSolved;
    document.getElementById('ss-lives').textContent='‚ù§Ô∏è'.repeat(ssLives)+'üñ§'.repeat(3-ssLives);
    document.getElementById('ss-input').focus();
}
function checkScramble(){
    const v=document.getElementById('ss-input').value.trim().toUpperCase().replace(/\s+/g,'');
    const correct=ssOrder[ssIdx].w;
    const fb=document.getElementById('ss-fb');
    if(v===correct){fb.textContent='‚ú® Correct! "'+correct+'"';fb.className='scramble-feedback correct';ssScore+=10;ssSolved++;setTimeout(()=>{ssIdx++;loadSW();},1000);}
    else{fb.textContent='‚úó Wrong! Try again';fb.className='scramble-feedback wrong';ssLives--;document.getElementById('ss-lives').textContent='‚ù§Ô∏è'.repeat(Math.max(0,ssLives))+'üñ§'.repeat(3-Math.max(0,ssLives));if(ssLives<=0){document.getElementById('ss-game').style.display='none';document.getElementById('ss-over').style.display='block';document.getElementById('ss-final').textContent=ssSolved;}}
}
function skipScramble(){ssIdx++;if(ssLives>1)ssLives--;loadSW();}
document.getElementById('ss-input').addEventListener('keydown',e=>{if(e.key==='Enter')checkScramble();});
resetScramble();

/* ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
            3. MEMORY MATCH
‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê */
const EMOJIS=['üßô','üêç','ü¶Å','ü¶Ö','ü¶°','üîÆ','‚ö°','üß™','ü™Ñ','üêâ','ü¶â','üèÜ'];
let mmFlipped=[],mmMatched=0,mmMoves=0,mmCards=[],mmLocked=false,mmTI=null,mmSec=0;
function resetMemory(){
    clearInterval(mmTI);mmSec=0;mmMoves=0;mmMatched=0;mmFlipped=[];mmLocked=false;
    document.getElementById('mm-win').style.display='none';
    document.getElementById('mm-moves').textContent='0';
    document.getElementById('mm-pairs').textContent='0/8';
    document.getElementById('mm-time').textContent='0:00';
    const ch=EMOJIS.sort(()=>Math.random()-.5).slice(0,8);
    mmCards=[...ch,...ch].sort(()=>Math.random()-.5);
    document.getElementById('mm-grid').innerHTML=mmCards.map((e,i)=>`<div class="mem-card" id="mc${i}" onclick="flipCard(${i})"><div class="mem-inner"><div class="mem-back">‚ú¶</div><div class="mem-front">${e}</div></div></div>`).join('');
    mmTI=setInterval(()=>{mmSec++;const m=Math.floor(mmSec/60),s=mmSec%60;document.getElementById('mm-time').textContent=m+':'+(s<10?'0':'')+s;},1000);
}
function flipCard(idx){
    if(mmLocked||mmFlipped.includes(idx))return;
    const c=document.getElementById('mc'+idx);
    if(c.classList.contains('matched')||c.classList.contains('flipped'))return;
    c.classList.add('flipped');mmFlipped.push(idx);
    if(mmFlipped.length===2){
        mmMoves++;document.getElementById('mm-moves').textContent=mmMoves;mmLocked=true;
        const[a,b]=mmFlipped;
        if(mmCards[a]===mmCards[b]){
            setTimeout(()=>{document.getElementById('mc'+a).classList.add('matched');document.getElementById('mc'+b).classList.add('matched');mmMatched++;document.getElementById('mm-pairs').textContent=mmMatched+'/8';mmFlipped=[];mmLocked=false;if(mmMatched===8){clearInterval(mmTI);setTimeout(showMMWin,400);}},400);
        }else{
            setTimeout(()=>{const ca=document.getElementById('mc'+a),cb=document.getElementById('mc'+b);ca.classList.add('wrong-flash');cb.classList.add('wrong-flash');setTimeout(()=>{ca.classList.remove('flipped','wrong-flash');cb.classList.remove('flipped','wrong-flash');mmFlipped=[];mmLocked=false;},200);},700);
        }
    }
}
function showMMWin(){
    document.getElementById('mm-win').style.display='block';
    const m=Math.floor(mmSec/60),s=mmSec%60;
    document.getElementById('mm-win-sub').textContent=`Completed in ${m}:${s<10?'0':''}${s} with ${mmMoves} moves. ${mmMoves<=16?'üåü Perfect!':mmMoves<=24?'Well done!':'Keep practising!'}`;
}
resetMemory();

/* ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
            4. SPELL DUEL
‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê */
const DS=[
    {s:"EXPELLIARMUS",d:20,desc:"disarmed them!"},{s:"STUPEFY",d:15,desc:"stunned the enemy!"},
    {s:"PROTEGO",d:0,heal:15,desc:"shielded yourself!"},{s:"INCENDIO",d:25,desc:"set them ablaze!"},
    {s:"WINGARDIUM LEVIOSA",d:10,desc:"lifted them into the air!"},{s:"RIDDIKULUS",d:18,desc:"made a fool of them!"},
    {s:"EXPECTO PATRONUM",d:30,desc:"summoned your Patronus!"},{s:"ALOHOMORA",d:12,desc:"opened their defences!"},
    {s:"ACCIO",d:8,heal:10,desc:"summoned your strength!"},{s:"LUMOS MAXIMA",d:22,desc:"blinded the enemy!"},
];
const EA=["Avada Kedavra deflected!","Crucio flies past your ear!","A dark curse grazes your shoulder!","Dark magic swirls around you!","The enemy lashes out with Sectumsempra!"];
let sdPHP=100,sdEHP=100,sdEmaxHP=100,sdSQ=[],sdCurSpell=null,sdEName='',sdRematch=null;
function startDuel(name,emoji,hp){
    sdPHP=100;sdEHP=hp;sdEmaxHP=hp;sdEName=name;
    document.getElementById('sd-start').style.display='none';
    document.getElementById('sd-game').style.display='block';
    document.getElementById('sd-result').style.display='none';
    document.getElementById('sd-badge').textContent='‚öîÔ∏è Duelling: '+emoji+' '+name;
    document.getElementById('sd-e-name').textContent=emoji+' '+name;
    document.getElementById('sd-log').innerHTML='<div class="duel-log-line">The duel begins! Cast your spells to defeat '+name+'!</div>';
    sdRematch=()=>startDuel(name,emoji,hp);
    document.getElementById('sd-rematch').onclick=sdRematch;
    updateBars();nextDuelSpell();
}
function nextDuelSpell(){sdSQ=[...DS].sort(()=>Math.random()-.5);pickSpell();}
function pickSpell(){if(!sdSQ.length)nextDuelSpell();sdCurSpell=sdSQ.pop();document.getElementById('sd-spell').textContent=sdCurSpell.s;document.getElementById('sd-input').value='';document.getElementById('sd-input').focus();}
function updateBars(){
    document.getElementById('sd-p-hp').textContent=sdPHP+' HP';
    document.getElementById('sd-e-hp').textContent=sdEHP+' HP';
    document.getElementById('sd-p-bar').style.width=Math.max(0,sdPHP)+'%';
    document.getElementById('sd-e-bar').style.width=Math.max(0,(sdEHP/sdEmaxHP)*100)+'%';
}
function castSpell(){
    const v=document.getElementById('sd-input').value.trim().toUpperCase();
    if(!v||!sdCurSpell)return;
    const log=document.getElementById('sd-log');
    function addLog(txt,cls){const d=document.createElement('div');d.className='duel-log-line'+(cls?' '+cls:'');d.textContent=txt;log.appendChild(d);log.scrollTop=log.scrollHeight;}
    if(v===sdCurSpell.s){
        if(sdCurSpell.heal){sdPHP=Math.min(100,sdPHP+sdCurSpell.heal);addLog('‚úÖ '+sdCurSpell.s+' ‚Äî '+sdCurSpell.desc,'heal');}
        else{sdEHP-=sdCurSpell.d;addLog('‚ö° '+sdCurSpell.s+' ‚Äî '+sdCurSpell.desc,'hit');}
        updateBars();if(sdEHP<=0){endDuel(true);return;}pickSpell();
    }else{
        const dmg=Math.floor(Math.random()*15)+8;sdPHP-=dmg;
        addLog('‚úó Wrong! '+EA[Math.floor(Math.random()*EA.length)]+' (‚àí'+dmg+' HP)','enemy');
        updateBars();if(sdPHP<=0){endDuel(false);return;}
        document.getElementById('sd-input').value='';
    }
}
function endDuel(won){
    document.getElementById('sd-game').style.display='none';
    document.getElementById('sd-result').style.display='block';
    document.getElementById('sd-r-emoji').textContent=won?'üèÜ':'üíÄ';
    document.getElementById('sd-r-title').textContent=won?'Victory!':'Defeated‚Ä¶';
    document.getElementById('sd-r-sub').textContent=won?`You defeated ${sdEName}! The wizarding world is safe ‚Äî for now.`:`${sdEName} has defeated you. Train harder and challenge again!`;
}
document.getElementById('sd-input').addEventListener('keydown',e=>{if(e.key==='Enter')castSpell();});
</script>
</body>
</html>
